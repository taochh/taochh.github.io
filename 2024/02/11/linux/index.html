<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"taochh.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":20},"labels":{"input_placeholder":"检索字段","hits_empty":"抱歉，未搜索到包含: ${query} 的文章","hits_stats":"在 ${time} ms 共搜索到 ${hits} 个相关结果"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.html"};
  </script>

  <meta name="description" content="快捷链接：">
<meta property="og:type" content="article">
<meta property="og:title" content="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Linux &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;">
<meta property="og:url" content="https://taochh.github.io/2024/02/11/linux/index.html">
<meta property="og:site_name" content="TAO&#39;s blog">
<meta property="og:description" content="快捷链接：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420153431272.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230416234607207.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417000501396.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417000805069.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417001022531.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417001442707.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417001808679.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417001912026.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417002234367.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417003902475.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417004133936.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417004214164.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420130855841.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417004919297.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005029033.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005112177.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005234663.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005318729.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005339801.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005402654.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005445434.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005730141.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230417005748756.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420131113497.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420131222873.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420131836587.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420132023742.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420132113313.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420132339536.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420132548973.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420132921144.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420133025708.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420155340139.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230601132911221.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230601153600191.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105113538672.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105113758947.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105114107159.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105114347495.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105114600323.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105114636691.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105114743211.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105114811267.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105114849251.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105130044585.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231105130429621.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119183419383.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119183525715.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119183645413.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119183719557.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119183809617.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119183838890.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119184130175.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119184609476.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119184807819.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119184902779.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119185042937.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119185116052.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119185142199.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119185215907.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119185244647.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119185342048.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119185835783.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119185855248.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119193049571.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231119193624804.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231109221315129.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20231109220027826.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420165729266.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420170044423.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420170541228.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420170656633.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420171241709.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420171347621.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420171535625.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420171652208.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420171808207.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420172328776.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420195726173.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420192134204.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420192255079.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420201509156.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420175236006-1681993622932-1.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420201752997-1681993690614-3.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420201858516-1681993690615-4.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420204133046.png">
<meta property="og:image" content="https://taochh.github.io/2024/02/11/linux/image-20240213014759471.png">
<meta property="article:published_time" content="2024-02-11T10:09:56.000Z">
<meta property="article:modified_time" content="2024-02-18T07:53:03.812Z">
<meta property="article:author" content="水瓶之翼">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://taochh.github.io/2024/02/11/linux/image-20230420153431272.png">

<link rel="canonical" href="https://taochh.github.io/2024/02/11/linux/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>======= Linux ======= | TAO's blog</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?41fc030db57d5570dd22f78997dc4a7e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">TAO's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">哈喽呀！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://taochh.github.io/2024/02/11/linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="水瓶之翼">
      <meta itemprop="description" content="躺平了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TAO's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ======= Linux =======
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-02-11 18:09:56" itemprop="dateCreated datePublished" datetime="2024-02-11T18:09:56+08:00">2024-02-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-02-18 15:53:03" itemprop="dateModified" datetime="2024-02-18T15:53:03+08:00">2024-02-18</time>
              </span>

          
            <span id="/2024/02/11/linux/" class="post-meta-item leancloud_visitors" data-flag-title="======= Linux =======" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2024/02/11/linux/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/02/11/linux/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>快捷链接</strong>：</p>
<span id="more"></span>

<h1 id="第-1-部分-linux的规划与安装"><a href="#第-1-部分-linux的规划与安装" class="headerlink" title="第 1 部分 linux的规划与安装"></a>第 1 部分 linux的规划与安装</h1><h2 id="0-计算机概论"><a href="#0-计算机概论" class="headerlink" title="0 计算机概论"></a>0 计算机概论</h2><h3 id="0-1-电脑相关知识"><a href="#0-1-电脑相关知识" class="headerlink" title="0.1 电脑相关知识"></a>0.1 电脑相关知识</h3><p>计算机硬件<strong>五大单元</strong>：输入单元，输出单元，CPU内部的控制单元与算术逻辑单元，内存。</p>
<p>数据都是流经过内存再转出去的，CPU发布命令控制着内存的流入&#x2F;流出</p>
<p>CPU（Central Processing Unit，中央处理器）为一个具有特定功能的芯片，里面含有微指令集。</p>
<h4 id="0-1-1-CPU的架构"><a href="#0-1-1-CPU的架构" class="headerlink" title="0.1.1 CPU的架构"></a>0.1.1 CPU的架构</h4><p>世界上两种主要的 CPU 架构（即微指令集的设计理念）：精简指令集（Reduced Instruction Set Computer, RISC）与复杂指令集(Complex Instruction Set Computer, CISC）</p>
<p>常见的CISC微指令集CPU主要有AMD、<br>Intel、VIA等的x86架构的CPU。</p>
<blockquote>
<p>最早的 Intel CPU 代号：8086，后续又开发出 80286, 80386等。因此称为 X86。CPU 架构由 8 位升级为 16 位，32位，64位，因此64位的个人电脑CPU又被统称为x86_64的架构</p>
</blockquote>
<p><strong>位</strong>：CPU 一次读取的最大数据量。32位大约 4 GB。</p>
<h4 id="0-1-2-其它单元的设备"><a href="#0-1-2-其它单元的设备" class="headerlink" title="0.1.2 其它单元的设备"></a>0.1.2 其它单元的设备</h4><p><strong>系统单元</strong>：包括 CPU与内存及主板相关元件。如网卡，磁盘阵列卡，显卡等。</p>
<p><strong>存储单元</strong>：内存与辅助存储（硬盘，软盘等）</p>
<p><strong>输入输出单元</strong>：键鼠，屏幕打印机等。</p>
<h4 id="0-1-3-电脑上常用计量单位"><a href="#0-1-3-电脑上常用计量单位" class="headerlink" title="0.1.3 电脑上常用计量单位"></a>0.1.3 电脑上常用计量单位</h4><p><strong>容量单位</strong>：</p>
<p>0&#x2F;1 这个二进制的的单位我们称为 bit。</p>
<p>1 Byte &#x3D; 8 bit</p>
<p>后续按 1024 倍计算：Byte，Kilo，Mega，Giga，Tera，Peta，Exa，Zetta</p>
<p><strong>速度单位</strong>：</p>
<p>按十进制计算。常使用 Hz 为单位，代表秒分之一。</p>
<p>在网络传输方面，由于网络使用的是 bit 为单位，因此网络常使用的单位为 Mbps（ Mbits per second），亦即是每秒多少 Mbit。举例来说，大家常听到的 20M&#x2F;5M 光纤传输速度，如果转成文件大小的 Byte 时，其实理论最大传输值为：每秒2.5MByte&#x2F; 每秒625KByte的下载&#x2F;上传速度。</p>
<h3 id="0-2-个人电脑架构与相关设备元间"><a href="#0-2-个人电脑架构与相关设备元间" class="headerlink" title="0.2 个人电脑架构与相关设备元间"></a>0.2 个人电脑架构与相关设备元间</h3><h4 id="0-2-1-CPU"><a href="#0-2-1-CPU" class="headerlink" title="0.2.1 CPU"></a>0.2.1 CPU</h4><p>x86架构：Intel、AMD为主流。</p>
<p><strong>CPU频率</strong>：即每秒钟可以工作的次数。3.6GHz 代表每秒工作 3.6*10^9 次。在早期的 CPU 设计中，所谓的<strong>外频</strong>指的是CPU与外部元件进行数据传输时的速度，<strong>倍频</strong>则是 CPU 内部用来加速工作性能的一个倍数， 两者相乘才是CPU的频率速度。</p>
<p><strong>前端总线速度（Front Side Bus, FSB）</strong>： CPU 内的内存控制芯片与内存间的传输速度。100MHz前端总线指的是每秒钟CPU可接受的数据传输量 100MHz×64bit &#x3D; 6400Mbit&#x2F;s &#x3D; 800MByte&#x2F;s（1Byte&#x3D;8bit）</p>
<p><strong>CPU等级</strong>：目前的64位CPU统称为x86_64等级。古老的CPU还有i386、i586等等级。</p>
<p><strong>超线程</strong> （Hyper-Threading, HT）</p>
<h4 id="0-2-2-内存"><a href="#0-2-2-内存" class="headerlink" title="0.2.2 内存"></a>0.2.2 内存</h4><p><strong>DDR</strong>是所谓的双倍数据传送速度（Double Data Rate）</p>
<p><strong>多通道设计</strong>：插入多条内存</p>
<p><strong>第二层高速缓存（L2 cache）</strong>整合到CPU中，使得某些程序数据的读取就不需要跑到内存重新读取了，使用静态随机存储内存（Static Random Access Memory,SRAM），而非动态随机存储内存（Dynamic Random Access Memory,DRAM）,因为要使其频率与 CPU 频率保持一致。</p>
<p><strong>只读存储器（Read Only Memory, ROM）</strong></p>
<p>BIOS（Basic Input Output System）是一套程序，这套程序是写死到主板上面的一个内存芯片中， 这个内存芯片在没有通电时也能够将数据记录下来，那就是只读存储器（Read Only Memory, ROM）</p>
<p>CMOS芯片、固件（firmware）</p>
<h4 id="0-2-3-显卡"><a href="#0-2-3-显卡" class="headerlink" title="0.2.3 显卡"></a>0.2.3 显卡</h4><p>显卡又称为VGA（Video Graphics Array）。显卡主要也是通过CPU的控制芯片来与CPU、内存等沟通。</p>
<p>显卡上面会有一个内存的容量，这个<strong>显存</strong>容量将会影响到你的屏幕分辨率与色彩深度。</p>
<p><strong>GPU</strong>：显卡上面嵌入的 3D 加速芯片</p>
<p><strong>显卡规格</strong>：PCI、AGP、PCIe（PCI-Express）（传输速率等的差异）</p>
<p><strong>显卡与电脑屏幕连接的接口</strong>：D-Sub（VGA端子）、DVI、HDMI、Display port</p>
<h4 id="0-2-4-硬盘与存储设备"><a href="#0-2-4-硬盘与存储设备" class="headerlink" title="0.2.4 硬盘与存储设备"></a>0.2.4 硬盘与存储设备</h4><p><strong>硬盘的物理组成</strong></p>
<p>磁盘的最小物理储存单位，称之为扇区（sector），同一个同心圆的扇区组合成的圆就是所谓的磁道（track）。 由于磁盘里面可能会有多个盘片，因此在所有盘片上面的同一个磁道可以组合成所谓的柱面 （cylinder）</p>
<p><strong>硬盘传输接口</strong>：SATA、SAS、USB接口</p>
<p><strong>固态硬盘（SSD）</strong></p>
<h4 id="0-2-5-扩展卡与接口"><a href="#0-2-5-扩展卡与接口" class="headerlink" title="0.2.5 扩展卡与接口"></a>0.2.5 扩展卡与接口</h4><h4 id="0-2-6-主板"><a href="#0-2-6-主板" class="headerlink" title="0.2.6 主板"></a>0.2.6 主板</h4><p><strong>设备I&#x2F;O位址与IRQ中断信道</strong></p>
<p>I&#x2F;O地址相当于每个设备的门牌号</p>
<p><strong>CMOS与BIOS</strong></p>
<p>CMOS主要的功能为记录主板上面的重要参数， 包括系统时间、CPU电压与频率、各项设备的I&#x2F;O位址与IRQ等，由于这些数据的记录要花费电力，因此主板上面才有电池。</p>
<p>BIOS为写入到主板上某一块 flash 或 EEPROM 的程序，他可以在开机的时候执行，以载入CMOS当中的参数， 并尝试调用储存设备中的开机程序，进一步进入操作系统当中。</p>
<p><strong>连接周边设备的接口</strong></p>
<p>PS&#x2F;2接口（老的键盘鼠标接口）、USB2.0（黑色）、USB3.0（蓝色）、RJ-45网络接口、HDMI接口、声音输入输出与麦克风</p>
<h4 id="0-2-5-电源供应器"><a href="#0-2-5-电源供应器" class="headerlink" title="0.2.5 电源供应器"></a>0.2.5 电源供应器</h4><p><strong>能源转换率</strong>：因为电源供应器本身会花费一定电力</p>
<h3 id="0-3-数据表示方式"><a href="#0-3-数据表示方式" class="headerlink" title="0.3 数据表示方式"></a>0.3 数据表示方式</h3><h4 id="0-3-1-数字系统"><a href="#0-3-1-数字系统" class="headerlink" title="0.3.1 数字系统"></a>0.3.1 数字系统</h4><p>二进制：通电为1，不通电为0</p>
<h4 id="0-3-2-文字编码系统"><a href="#0-3-2-文字编码系统" class="headerlink" title="0.3.2 文字编码系统"></a>0.3.2 文字编码系统</h4><p>常用的英文编码表为ASCII系统、Unicode编码系统（UTF8、万国码）</p>
<h3 id="0-4-软件程序运行"><a href="#0-4-软件程序运行" class="headerlink" title="0.4 软件程序运行"></a>0.4 软件程序运行</h3><h4 id="0-4-1-机器程序与编译程序"><a href="#0-4-1-机器程序与编译程序" class="headerlink" title="0.4.1 机器程序与编译程序"></a>0.4.1 机器程序与编译程序</h4><p>C、C++、Java 等</p>
<p>在没有操作系统的情况下设计程序在硬件上运行需要考虑整体的硬件系统。否则会面临重复撰写控制码等问题。</p>
<h4 id="0-4-2-操作系统"><a href="#0-4-2-操作系统" class="headerlink" title="0.4.2 操作系统"></a>0.4.2 操作系统</h4><p>如果能够将所有的硬件都驱动， 并且提供一个发展软件的参考接口来给工程师开发软件的话，那发展软件就变得非常简单了，操作系统（Operating System，OS）应运而生。</p>
<p><strong>操作系统核心（Kernel）</strong></p>
<p>操作系统其实也是一组程序， 这组程序的重点在于管理电脑的所有活动以及驱动系统中的所有硬件。 工程师开发软件不需要直接参考核心功能，操作系统通常会提供一整组的开发接口给工程师来开发软件，工程师只需要遵守该开发接口就能开发软件了。</p>
<ul>
<li><p>操作系统的核心层直接参考硬件规格写成， 所以同一个操作系统程序不能够在不一样的硬件架构下运行。举例来说，个人电脑版的 Windows 8.1 不能直接在 ARM 架构 （手机与平板硬件） 的电脑下运行。</p>
</li>
<li><p>操作系统只是在管理整个硬件资源，包括CPU、内存、输入输出设备及文件系统文件。 如果没有其他的应用程序辅助，操作系统只能让电脑主机准备妥当（Ready）而已！并无法运行其他功能。</p>
</li>
<li><p>应用程序的开发都是参考操作系统提供的开发接口， 所以该应用程序只能在该操作系统上面运行而已，不可以在其他操作系统上面运行的。</p>
</li>
</ul>
<p><strong>核心功能</strong></p>
<ul>
<li>系统调用接口（System call interface）</li>
<li>程序管理（Process control）</li>
<li>内存管理（Memory management）</li>
<li>文件系统管理（Windows 98 就不认识NTFS文件格式的硬盘）</li>
<li>设备的驱动</li>
</ul>
<h4 id="0-4-3-应用程序"><a href="#0-4-3-应用程序" class="headerlink" title="0.4.3 应用程序"></a>0.4.3 应用程序</h4><h2 id="1-linux是什么与如何学习"><a href="#1-linux是什么与如何学习" class="headerlink" title="1 linux是什么与如何学习"></a>1 linux是什么与如何学习</h2><h3 id="1-1-linux-发展历史"><a href="#1-1-linux-发展历史" class="headerlink" title="1.1 linux 发展历史"></a>1.1 linux 发展历史</h3><ul>
<li><p>1969前。相容分时系统（Compatible Time-Sharing System, CTSS）：近代操作系统的始祖。Multics计划。</p>
</li>
<li><p>1969。Ken Thompson，Unix 的原型 Unics 文件系统</p>
<ul>
<li>所有的程序或系统设备都是文件</li>
<li>不管建构编辑器还是附属文件，所写的程序只有一个目的，且要有效地完成目标。</li>
</ul>
</li>
<li><p>1973。Unix 诞生，Dennis Ritchie等人以C语言写出第一个正式 Unix 核心（可移植）。</p>
</li>
<li><p>1977年。重要的 Unix 分支–BSD的诞生。</p>
</li>
<li><p>1979年。重要的 System V 架构与版权宣告。AT&amp;T 公司推出的 System V 可以在个人计算机上运行（学生无法看源代码）。</p>
<blockquote>
<p>  目前被称为纯种的 Unix 指的就是System V以及BSD这两套！</p>
</blockquote>
</li>
<li><p>1984年。谭宁邦：x86架构的 Minix 操作系统开始撰写并于两年后诞生（仅教育用途）。</p>
</li>
<li><p>1984年。GNU计划与FSF基金会的成立。</p>
<ul>
<li>Richard Mathew Stallman（史托曼）的 GNU 计划：创建一个自由、开放的Unix操作系统（Free Unix）。</li>
<li>史托曼撰写了 C 语言编译器 GNU C Compiler(<strong>gcc</strong>)、更多可以被调用的 C 函数库（GNU C library,<strong>glibc</strong>）、可以被使用来操作操作系统的基本接口 <strong>BASH shell</strong></li>
<li>史托曼成立了自由软件基金会（FSF, Free Software Foundation）</li>
<li>通用公共许可证（General Public License, GPL），避免 GNU 开发的自由软件被利用成为专利软件。</li>
</ul>
</li>
<li><p>1988年。图形接口XFree86计划（非盈利组织，X window system + free + x86）。</p>
<ul>
<li>图形使用者接口（Graphical User Interface, GUI） 的需求日益加重，在1984年由MIT与其他协力厂商首次发表了 X Window System。</li>
</ul>
</li>
<li><p>1991年。芬兰大学生Linus Torvalds的一则简讯。</p>
<ul>
<li><p>由于 Unix 系统使用需要等待，linus 根据 minix 的设计理念，以及 gcc、bash shell 等自由软件，在 intel 386 机器上编写了最初的 linux 内核，可实现多任务运行。随后为了能让 Unix 软件在 linux 上相容运行，linus 参考 POXIS 规范修改了 linux。</p>
<blockquote>
<p>  POSIX是可携式操作系统接口（Portable Operating System Interface）的缩写，重点在规范核心与应用程序之间的接口</p>
</blockquote>
</li>
<li><p>linux发展：单人维护-&gt; 广大骇客加入-&gt; 核心功能细部分工发展 <a target="_blank" rel="noopener" href="http://www.kernel.org/">www.kernel.org</a></p>
</li>
<li><p>Version 1.0(1994),2.0(1996),3.0(2011),4.0(2015)</p>
</li>
</ul>
</li>
</ul>
<h3 id="1-2-Linux-distributions"><a href="#1-2-Linux-distributions" class="headerlink" title="1.2 Linux distributions"></a>1.2 Linux distributions</h3><p>可完整安装的 linux 发布套件，不仅仅是 linux 内核。</p>
<table>
<thead>
<tr>
<th></th>
<th>RPM 软件管理</th>
<th>DPKG 软件管理</th>
<th>其它</th>
</tr>
</thead>
<tbody><tr>
<td>商业公司</td>
<td>RHEL(Red Hat公司)、SunSE(Micro focus)</td>
<td>Ubuntu(Canonical Ltd.)</td>
<td></td>
</tr>
<tr>
<td>社群单位</td>
<td>Fedora、CentOS、OpenSuSE</td>
<td>Debian、B2D</td>
<td>Gentoo</td>
</tr>
</tbody></table>
<h2 id="2-主机规划与磁盘分区"><a href="#2-主机规划与磁盘分区" class="headerlink" title="2 主机规划与磁盘分区"></a>2 主机规划与磁盘分区</h2><h3 id="2-1-linux-与硬件的搭配"><a href="#2-1-linux-与硬件的搭配" class="headerlink" title="2.1 linux 与硬件的搭配"></a>2.1 linux 与硬件的搭配</h3><h4 id="2-1-3-各硬件设备在-linux-中的文件名"><a href="#2-1-3-各硬件设备在-linux-中的文件名" class="headerlink" title="2.1.3 各硬件设备在 linux 中的文件名"></a>2.1.3 各硬件设备在 linux 中的文件名</h4><p>在linux文件系统中，所有硬件均在 &#x2F;dev 目录内</p>
<table>
<thead>
<tr>
<th>设备</th>
<th>文件名</th>
</tr>
</thead>
<tbody><tr>
<td>SCSI&#x2F;SATA&#x2F;USB硬盘机</td>
<td>&#x2F;dev&#x2F;sd[a-p]</td>
</tr>
<tr>
<td>VirtI&#x2F;O界面</td>
<td>&#x2F;dev&#x2F;vd[a-p]（用于虚拟机内）</td>
</tr>
<tr>
<td>软盘机</td>
<td>&#x2F;dev&#x2F;fd[0-7]</td>
</tr>
<tr>
<td>打印机</td>
<td>&#x2F;dev&#x2F;lp[0-2]（25针打印机）、&#x2F;dev&#x2F;usb&#x2F;lp[0-15]（USB接口）</td>
</tr>
<tr>
<td>鼠标</td>
<td>&#x2F;dev&#x2F;input&#x2F;mouse[0-15]（通用）、&#x2F;dev&#x2F;psaux(PS&#x2F;2界面)、&#x2F;dev&#x2F;mouse(当前鼠标)</td>
</tr>
</tbody></table>
<h3 id="2-2-磁盘分区"><a href="#2-2-磁盘分区" class="headerlink" title="2.2 磁盘分区"></a>2.2 磁盘分区</h3><h4 id="2-2-2-MSDOS-MBR-与GPT磁盘分区表（partition-table）"><a href="#2-2-2-MSDOS-MBR-与GPT磁盘分区表（partition-table）" class="headerlink" title="2.2.2 MSDOS(MBR)与GPT磁盘分区表（partition table）"></a>2.2.2 MSDOS(MBR)与GPT磁盘分区表（partition table）</h4><p><strong>MBR</strong></p>
<p>支持 windows 的 MBR</p>
<ul>
<li><p>第 1 个扇区（512Byte)：</p>
<ul>
<li>主要开机记录区（Master Boot Record, MBR）占 446Byte</li>
<li>分区表占 64 Byte，因此最多仅能有 4 组记录区（这 4 组记录被称为<strong>主要分区</strong> P 或者<strong>延伸分区</strong> E）</li>
</ul>
</li>
<li><p>延伸分区（E）利用额外的扇区来记录更多的分区信息。</p>
</li>
<li><p>由延伸分区继续切出来的分区，就被称为<strong>逻辑分区</strong></p>
<blockquote>
<p>  主要分区与延伸分区最多可以有四笔（硬盘的限制）；</p>
<p>  延伸分区最多只能有一个（操作系统的限制）；</p>
<p>  能够被格式化后，作为数据存取的分区为主要分区与逻辑分区。延伸分区无法格式化</p>
</blockquote>
</li>
</ul>
<p><strong>GPT(GUID partition table)磁盘分区表</strong></p>
<p>为了相容于所有的磁盘，因此在扇区的定义上面， 大多会使用所谓的逻辑区块位址（Logical Block Address,LBA）来处理。GPT 将磁盘所有区块以此 LBA（默认为 512Bytes）来规划，而第一个 LBA 称为 LBA0 （从 0 开始编号）。</p>
<p>GPT 使用了 34 个 LBA 区块来纪录分区信息，拿最后 33 个 LBA 作为备份，更加安全。</p>
<ul>
<li><p>LBA0：储存 MBR 程序，在原本分区表的纪录区内仅放入了一个特殊标记的分区用于表示此磁盘为 GPT 格式。</p>
</li>
<li><p>LBA1：GPT表头记录，记录分区表位置大小、备份用GPT分区、分区表检验机制码等。</p>
</li>
<li><p>LBA2-33：每个 LBA 可以记录 4 笔分区</p>
<blockquote>
<p>  GPT 分区已经没有所谓的主、延伸、逻辑分区的概念，既然每笔纪录都可以独立存在， 当然每个都可以视为是主分区！每一个分区都可以拿来格式化使用</p>
</blockquote>
</li>
</ul>
<h4 id="2-2-3-BIOS与UEFI开机检测程序"><a href="#2-2-3-BIOS与UEFI开机检测程序" class="headerlink" title="2.2.3 BIOS与UEFI开机检测程序"></a>2.2.3 BIOS与UEFI开机检测程序</h4><p><strong>开机流程</strong></p>
<ol>
<li><p>BIOS：开机主动执行的固件，会认识第一个可开机的设备；</p>
</li>
<li><p>MBR：第一个可开机设备的第一个扇区内的主要开机记录区块，内含开机管理程序；（GPT分区表在LBA0中）</p>
</li>
<li><p>开机管理程序（boot loader）：一支可读取核心文件来执行的软件；（开机管理程序除了可以安装在MBR之外， 还可以安装在每个分区的开机扇区（boot sector））</p>
</li>
<li><p>核心文件：开始操作系统的功能…（实际可开机的核心文件是放置到各分区内的）</p>
</li>
</ol>
<p><strong>Boot loader 的主要任务</strong></p>
<ul>
<li><p>提供菜单：使用者可以选择不同的开机项目，这也是多重开机的重要功能！</p>
</li>
<li><p>载入核心文件：直接指向可开机的程序区段来开始操作系统；</p>
</li>
<li><p>转交其他loader（多重开机）：将开机管理功能转交给其他loader负责。</p>
</li>
</ul>
<p><strong>UEFI BIOS搭配BIOS开机的流程</strong></p>
<p>UEFI （Unified Extensible Firmware Interface） 统一可延伸固件界面</p>
<h4 id="2-2-4-linux-安装模式下磁盘分区的选择"><a href="#2-2-4-linux-安装模式下磁盘分区的选择" class="headerlink" title="2.2.4 linux 安装模式下磁盘分区的选择"></a>2.2.4 linux 安装模式下磁盘分区的选择</h4><p><strong>文件系统与目录树的关系（挂载）</strong></p>
<p>所谓的“挂载”就是利用一个目录当成进入点，将磁盘分区的数据放置在该目录下； 也就是说，进入该目录就可以读取该分区的意思。</p>
<p><strong>distributions安装时，挂载点与磁盘分区的规划</strong></p>
<p>A：初次接触Linux：只要分区“ &#x2F; ”及“swap”即可</p>
<p>B：建议分区的方法：预留一个备用的不分区的剩余磁盘容量！</p>
<h3 id="2-3-安装-linux-前的规划"><a href="#2-3-安装-linux-前的规划" class="headerlink" title="2.3 安装 linux 前的规划"></a>2.3 安装 linux 前的规划</h3><h4 id="2-3-1-选择适当的-distribution"><a href="#2-3-1-选择适当的-distribution" class="headerlink" title="2.3.1 选择适当的 distribution"></a>2.3.1 选择适当的 distribution</h4><p>如 Ubuntu、CentOS 镜像文件</p>
<h4 id="2-3-2-主机的服务规划与硬件的关系"><a href="#2-3-2-主机的服务规划与硬件的关系" class="headerlink" title="2.3.2 主机的服务规划与硬件的关系"></a>2.3.2 主机的服务规划与硬件的关系</h4><p>常见的 linux 服务：NAT（达成IP分享器的功能）、SAMBA(加入Windows网络)、Mail(邮件服务器)、Web(WWW服务器)、DHCP（提供用户端自动取得IP的功能）、FTP</p>
<h4 id="2-3-3-主机硬盘的主要规划"><a href="#2-3-3-主机硬盘的主要规划" class="headerlink" title="2.3.3 主机硬盘的主要规划"></a>2.3.3 主机硬盘的主要规划</h4><h4 id="2-3-4-鸟哥两个实际案例"><a href="#2-3-4-鸟哥两个实际案例" class="headerlink" title="2.3.4 鸟哥两个实际案例"></a>2.3.4 鸟哥两个实际案例</h4><p>家用的小型Linux服务器，IP分享与文件分享中心</p>
<p>提供Linux的PC丛集（Cluster）计算机群</p>
<h2 id="3-安装-linux-操作系统"><a href="#3-安装-linux-操作系统" class="headerlink" title="3 安装 linux 操作系统"></a>3 安装 linux 操作系统</h2><h3 id="3-1-安装-CenOS7-x"><a href="#3-1-安装-CenOS7-x" class="headerlink" title="3.1 安装 CenOS7.x"></a>3.1 安装 CenOS7.x</h3><p>未学习</p>
<h3 id="3-2-基于-VMware-安装-Ubuntu-虚拟机"><a href="#3-2-基于-VMware-安装-Ubuntu-虚拟机" class="headerlink" title="3.2 基于 VMware 安装 Ubuntu 虚拟机"></a>3.2 基于 VMware 安装 Ubuntu 虚拟机</h3><h4 id="3-2-1-准备工作"><a href="#3-2-1-准备工作" class="headerlink" title="3.2.1 准备工作"></a>3.2.1 准备工作</h4><p>安装虚拟系统需要下载 VMware tools 与 ubuntu 镜像文件：</p>
<img src="/2024/02/11/linux/image-20230420153431272.png" alt="image-20230420153431272" style="zoom:50%;">

<p>ubuntu22 的镜像我是从国内的镜像网站下载的，我在百度网盘和夸克网盘各分享了一份，假如网盘太慢的话你也可以直接去<a target="_blank" rel="noopener" href="https://mirrors.neusoft.edu.cn/ubuntu-releases/22.04/">镜像网站</a>下载 ubuntu系统镜像。</p>
<p>安装包的链接为：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/10EnwqA8LD3QFzI4v1lparQ?pwd=jbbp">百度网盘</a> 提取码：jbbp <a target="_blank" rel="noopener" href="https://pan.quark.cn/s/1eb78f02ad7c">夸克网盘</a> 提取码：MPzx</p>
<h5 id="1-VMware-安装与注册"><a href="#1-VMware-安装与注册" class="headerlink" title="(1) VMware 安装与注册"></a>(1) VMware 安装与注册</h5><p>首先安装 VMware 虚拟机,安装位置随便哪里都可以，只需要点下一步下一步就可以了，没有难度，我的电脑是 windows10 的操作系统可以正常安装，如果有人安装失败的话就需要自己去下载了。对于我分享的 VMware 虚拟机，我也已经找了一些注册密匙，随便选一个填进去，一般都能注册成功。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># VMware Workstation Pro 15 版本激活许可证</span></span><br><span class="line">UY758-0RXEQ-M81WP-8ZM7Z-Y3HDA</span><br><span class="line">VF750-4MX5Q-488DQ-9WZE9-ZY2D6</span><br><span class="line">UU54R-FVD91-488PP-7NNGC-ZFAX6</span><br><span class="line">YC74H-FGF92-081VZ-R5QNG-P6RY4</span><br><span class="line">YC34H-6WWDK-085MQ-JYPNX-NZRA2</span><br><span class="line">CG392-4PX5J-H816Z-HYZNG-PQRG2</span><br><span class="line"><span class="comment"># VMware15最新密钥许可证（序列号）更新</span></span><br><span class="line">YG5H2-ANZ0H-M8ERY-TXZZZ-YKRV8</span><br><span class="line">UG5J2-0ME12-M89WY-NPWXX-WQH88</span><br><span class="line">UA5DR-2ZD4H-089FY-6YQ5T-YPRX6</span><br><span class="line">GA590-86Y05-4806Y-X4PEE-ZV8E0</span><br><span class="line">ZF582-0NW5N-H8D2P-0XZEE-Z22VA</span><br><span class="line">YA18K-0WY8P-H85DY-L4NZG-X7RAD</span><br></pre></td></tr></table></figure>

<h5 id="2-新建磁盘分区"><a href="#2-新建磁盘分区" class="headerlink" title="(2) 新建磁盘分区"></a>(2) 新建磁盘分区</h5><p>准备硬盘空间。我以我自己的电脑为例，下图是未安装前的磁盘容量。</p>
<p><strong>首先</strong>，为什么我的D盘只剩 5.6 个G呢？因为我已经在D盘安装了一个 460 G 的 ubuntu 系统，而且设置了把整个 D 盘都分配给 ubuntu 系统使用，所以我现在的 D 盘是不能存文件进去的，只能用于 ubuntu 虚拟系统。</p>
<p><strong>接着</strong>，我现在要在 C 盘再安装一个 ubuntu 虚拟系统，与 D 盘这个不同的是，我只打算分配 150 G 给 ubuntu 虚拟系统，而且不会提前分配所有内存给它，也就是说，只是上限是 150 G，虚拟系统占用的存储空间会随着使用慢慢增加，但仍然可以在 windows 中往里存东西。具体效果可以等安装完体会。</p>
<img src="/2024/02/11/linux/image-20230416234607207.png" alt="image-20230416234607207" style="zoom:40%;">

<p>为什么要创建一个新的磁盘分区给虚拟系统 ？因为如果不创建新的分区的话 VMware 会格式化整个分区，当然如果这个分区里面的资料都是没用的，我们也可以不创建新的分区。</p>
<ul>
<li><p><strong>第一步</strong>：按 <code>win</code> + <code>X</code> 快捷键或者鼠标右键点击 windows 徽标，会出现如图所示的选项，点击磁盘管理</p>
<img src="/2024/02/11/linux/image-20230417000501396.png" alt="image-20230417000501396" style="zoom:45%;">
</li>
<li><p><strong>第二步</strong>：出现下图界面后鼠标左键点击相要分区的磁盘，我是对 C 盘进行分区，所以我点了 C 盘，假如你是对 D 盘分区，则点击 D 盘。</p>
<img src="/2024/02/11/linux/image-20230417000805069.png" alt="image-20230417000805069" style="zoom:45%;">
</li>
<li><p><strong>第三步</strong>：鼠标还是停留在想要分区的盘，然后鼠标右键选择 <strong>压缩卷</strong> </p>
<img src="/2024/02/11/linux/image-20230417001022531.png" alt="image-20230417001022531" style="zoom:38%;">
</li>
<li><p><strong>第四步</strong>：等电脑查询可压缩空间完毕，输入需要分出多少内存给新的分区，然后点击<strong>压缩</strong>即可，我这里填的数值是 157808 M ，相当于 150 G在左右。当然你也可以多填一点，这一步只是新建一个分区，新的分区并不是只能用于虚拟系统的，之后我们会设置虚拟系统的磁盘空间上限，其余的空间依然可以用于存储 windows 中的文件资料。</p>
<img src="/2024/02/11/linux/image-20230417001442707.png" alt="image-20230417001442707" style="zoom:40%;">

<p>压缩后会出现一个未分配的区：</p>
<img src="/2024/02/11/linux/image-20230417001808679.png" alt="image-20230417001808679" style="zoom:45%;">
</li>
<li><p><strong>第五步</strong>：鼠标右键点击这个未分配的区，选择 <strong>新建简单卷</strong>，接着只需要下一步，下一步点击即可，不需要更改参数。</p>
<img src="/2024/02/11/linux/image-20230417001912026.png" alt="image-20230417001912026" style="zoom:40%;">

<p>新建分区完成后，我们就得到了一个新的分区，接下来将在这里面安装 ubuntu 虚拟系统。注意这个分区先不要存东西进去，我这里出现的新分区默认为新加卷 E，如下图所示。</p>
<img src="/2024/02/11/linux/image-20230417002234367.png" alt="image-20230417002234367" style="zoom:40%;"></li>
</ul>
<h4 id="3-2-2-ubuntu-虚拟系统安装"><a href="#3-2-2-ubuntu-虚拟系统安装" class="headerlink" title="3.2.2 ubuntu 虚拟系统安装"></a>3.2.2 ubuntu 虚拟系统安装</h4><p><strong>第一步</strong>：打开 VMware 软件，然后点击 <strong>创建新的虚拟机</strong></p>
<img src="/2024/02/11/linux/image-20230417003902475.png" alt="image-20230417003902475" style="zoom:30%;">

<p><strong>第二步</strong>：选择 <strong>自定义(高级)</strong></p>
<img src="/2024/02/11/linux/image-20230417004133936.png" alt="image-20230417004133936" style="zoom:45%;">

<p><strong>第三步</strong>：如图设置，然后选择下一步</p>
<img src="/2024/02/11/linux/image-20230417004214164.png" alt="image-20230417004214164" style="zoom:45%;">

<p><strong>第四步</strong>：选择 <strong>安装程序光盘映像文件</strong>，然后点击浏览，选择从网盘下载的 ubuntu-22.04-desktop-amd64 iso镜像文件的储存位置即可，然后点击下一步</p>
<img src="/2024/02/11/linux/image-20230420130855841.png" alt="image-20230420130855841" style="zoom:33%;">

<p><strong>第五步</strong>：如图设置，然后选择下一步</p>
<img src="/2024/02/11/linux/image-20230417004919297.png" alt="image-20230417004919297" style="zoom:45%;">

<p><strong>第六步</strong>：虚拟机名称随便填写，我这里默认没有改；位置需要选择我们前面分出来的<strong>新的分区</strong>，千万不要选用来存重要资料的分区，我这里是 E 盘。</p>
<img src="/2024/02/11/linux/image-20230417005029033.png" alt="image-20230417005029033" style="zoom:45%;">

<p><strong>第七步</strong>：设置处理器数量，处理器内核总数的上限是根据我们的电脑决定的，我的电脑最多只有 8 核，因此如果我设置超过 8 核会提示错误。因此这一步可以自由设置处理器数量与内核数量，取决于每个人电脑的配置与之后的需求。下面是我的电脑的配置：</p>
<img src="/2024/02/11/linux/image-20230417005112177.png" alt="image-20230417005112177" style="zoom:45%;">

<p><strong>第八步</strong>：配置虚拟机内存，依然是取决于每个人的电脑最大内存数与需求，如果只是安装 ubuntu 系统练习终端基本操作那么设置 2G 内存也足够了。我的电脑最大内存为 16 G，因此我给虚拟系统配置了 13 G 左右的内存：</p>
<img src="/2024/02/11/linux/image-20230417005234663.png" alt="image-20230417005234663" style="zoom:45%;">

<p><strong>第九步</strong>：选择<strong>使用桥接网络</strong>，然后点击下一步（有些教程里写的是选择NAT网络连接，这个问题不大，这个设置以后也可以更改的，我们这里选择使用桥接网络即可）</p>
<img src="/2024/02/11/linux/image-20230417005318729.png" alt="image-20230417005318729" style="zoom:45%;">

<p><strong>第九步</strong>：默认推荐配置即可</p>
<img src="/2024/02/11/linux/image-20230417005339801.png" alt="image-20230417005339801" style="zoom:45%;">

<p><strong>第十步</strong>：还是选择推荐配置</p>
<img src="/2024/02/11/linux/image-20230417005402654.png" alt="image-20230417005402654" style="zoom:45%;">

<p><strong>第十一步</strong>：选择 <strong>创建新虚拟磁盘</strong></p>
<img src="/2024/02/11/linux/image-20230417005445434.png" alt="image-20230417005445434" style="zoom:45%;">

<p><strong>第十二步</strong>：输入最大磁盘大小，即为虚拟机分配多少存储空间，其上限为该分区的最大存储空间，我这里把154G全部分配了，假如你不需要这么多内存可以自由设置。</p>
<p>接着下面的第一个选项 <strong>立即分配所以磁盘空间</strong> ，假如选了该选项，会直接把所有内存预先留给我们的虚拟机，就像我前面的 D 盘一样。这几个选项可根据自己的需求设置。下图是我的设置：</p>
<img src="/2024/02/11/linux/image-20230417005730141.png" alt="image-20230417005730141" style="zoom:45%;">

<p><strong>第十三步</strong>：不用更改，也可以自己重命名</p>
<img src="/2024/02/11/linux/image-20230417005748756.png" alt="image-20230417005748756" style="zoom:45%;">

<p><strong>第十四步</strong>：不用更改，点击完成即可</p>
<img src="/2024/02/11/linux/image-20230420131113497.png" alt="image-20230420131113497" style="zoom:33%;">

<p><strong>第十五步</strong>：系统会自动开始 ubuntu 系统安装，出现以下界面，可以点 <code>Enter</code>键，也可以等待几十秒，会自动确认。</p>
<img src="/2024/02/11/linux/image-20230420131222873.png" alt="image-20230420131222873" style="zoom:33%;">

<p><strong>第十六步</strong>：1-2分钟后，出现如下界面，左侧选择系统语言，可以下拉安装中文版也可以直接安装英文版。然后右侧点击 <strong>安装 Ubuntu</strong></p>
<img src="/2024/02/11/linux/image-20230420131836587.png" alt="image-20230420131836587" style="zoom:33%;">

<p><strong>第十七步</strong>：选择键盘布局，不要选择中文键盘，选择美式键盘，否则之后敲命令会有问题。然后点击继续</p>
<img src="/2024/02/11/linux/image-20230420132023742.png" alt="image-20230420132023742" style="zoom:33%;">

<p><strong>第十八步</strong>：因为是个人电脑，所以可以选择最小安装，不安装非必要的软件以节省磁盘空间，同时取消下载更新选项，然后点击继续。</p>
<img src="/2024/02/11/linux/image-20230420132113313.png" alt="image-20230420132113313" style="zoom:40%;">

<p><strong>第十九步</strong>：因为我们前面配置了一个新的分区，里面没有重要的文件，所以这里直接选 <strong>清除整个磁盘并安装Ubuntu</strong>,然后点击现在安装即可</p>
<img src="/2024/02/11/linux/image-20230420132339536.png" alt="image-20230420132339536" style="zoom:33%;">

<p><strong>第二十步</strong>：设置时区，鼠标左键在中国地图上点一下就会出现 Shanghai，然后点继续即可。</p>
<img src="/2024/02/11/linux/image-20230420132548973.png" alt="image-20230420132548973" style="zoom:33%;">

<p><strong>第二十一步</strong>：输入用户名和密码，然后点击继续。</p>
<img src="/2024/02/11/linux/image-20230420132921144.png" alt="image-20230420132921144" style="zoom:33%;">

<p><strong>第二十二步</strong>：现在等待系统安装即可。可能会持续数十分钟或者一个小时左右。</p>
<img src="/2024/02/11/linux/image-20230420133025708.png" alt="image-20230420133025708" style="zoom:33%;">

<p>安装完毕后，按照提示重启系统后即可登录。登陆后，假如提示是否安装更新，登录在线账号等，跳过即可。</p>
<p>下图是登录后的界面：</p>
<img src="/2024/02/11/linux/image-20230420155340139.png" alt="image-20230420155340139" style="zoom:25%;">

<h4 id="3-2-3-虚拟机安装问题解决"><a href="#3-2-3-虚拟机安装问题解决" class="headerlink" title="3.2.3 虚拟机安装问题解决"></a>3.2.3 虚拟机安装问题解决</h4><p>今天在一台新的笔记本电脑上(Win11 家庭中文版)安装 Ubuntu 虚拟机系统。本来是直接按照我自己前面写的教程安装即可。不过在创建完虚拟机后打开时出现了如下的报错：VMware Workstation 与 Device&#x2F;Credential Guard 不兼容。</p>
<img src="/2024/02/11/linux/image-20230601132911221.png" alt="image-20230601132911221" style="zoom:50%;">

<p>先说解决方案：如果是Win 11 家庭版安装了我前面分享的 VMware 15 pro出现上述报错的话，应该是windows版本与VMware版本兼容的问题，只需要直接下载 VMvare 17 pro 即可解决问题。下载链接我会写在后面。</p>
<p>但是我一开始没有想到是VMware版本的问题，于是进行了下面的一系列操作，中间也出现了一些新的问题，不过最终安装 VMvare 17 pro后成功安装了Ubuntu虚拟机。</p>
<ol>
<li>首先找了一下网上对于VMware Workstation 与 Device&#x2F;Credential Guard 不兼容的问题的解决方案，按照下面链接的方法二操作，但是在powershell输入<code>bcdedit /set hypervisorlaunchtype off</code>命令时显示无法打开启动配置数据存储。</li>
</ol>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https<span class="operator">:</span><span class="operator">/</span><span class="operator">/</span>blog.csdn.net<span class="operator">/</span>m0_52318340<span class="operator">/</span>article<span class="operator">/</span>details<span class="operator">/</span><span class="number">126598362</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>于是又找了一下解决方法，按照下面链接的方法启动配置数据存储，然后重新打开powershell，接着再输入上面的命令，显示成功。</li>
</ol>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https<span class="operator">:</span><span class="operator">/</span><span class="operator">/</span>jingyan.baidu.com<span class="operator">/</span>article<span class="operator">/</span>e9fb46e1b169353420f7665c.html</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>接着重启电脑，前面不兼容的报错问题解决了。但是又出现了新的问题，就是打开虚拟机的时候电脑直接蓝屏，蓝屏代码为<code>SYSTEM_SERVICE_EXCEPTION</code>。继续找解决方案，发现应该是VMwae版本的问题，于是下载了 VMware 17 pro（注意这个是英文版的），然后直接安装即可（不需要卸载原来的VMware 15 pro,安装时按照提示选择升级即可）。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VMware 17 pro 下载地址：https://www.vmware.com/go/getworkstation-win</span><br><span class="line">百度网盘备用地址：https://pan.baidu.com/s/1UVC7C2iw-CIdxz_vd92hYQ 提取码: vm17</span><br></pre></td></tr></table></figure>

<p>当然VMware 17 pro也需要激活码，下面的几个随便选一个即可激活：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">JU090-6039P-08409-8J0QH-2YR7F</span><br><span class="line">MC60H-DWHD5-H80U9-6V85M-8280D</span><br><span class="line">4A4RR-813DK-M81A9-4U35H-06KND</span><br><span class="line">NZ4RR-FTK5H-H81C1-Q30QH-1V2LA</span><br><span class="line">HA2W0-8731Q-MJ8W0-133ZK-8P0HD</span><br><span class="line">4Y09U-AJK97-089Z0-A3054-83KLA</span><br><span class="line">4C21U-2KK9Q-M8130-4V2QH-CF810</span><br><span class="line"># 转自 https://zhuanlan.zhihu.com/p/628536956</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>重新安装 VMware 17 pro后，再按照<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/Yt7FqfaA11vS06dNY7BO5w">教程</a>重新配置创建一个新的 Ubuntu 虚拟机并安装即可。</p>
<p>安装成功截图：</p>
<img src="/2024/02/11/linux/image-20230601153600191.png" alt="image-20230601153600191" style="zoom:20%;"></li>
</ol>
<h3 id="3-3-安装-Ubuntu-操作系统"><a href="#3-3-安装-Ubuntu-操作系统" class="headerlink" title="3.3 安装 Ubuntu 操作系统"></a>3.3 安装 Ubuntu 操作系统</h3><p>以下重装Ubuntu系统的步骤参考下面的博文：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原文链接：https://blog.csdn.net/qq_41833455/article/details/117882535</span><br></pre></td></tr></table></figure>

<h4 id="3-3-1-制作系统镜像启动安装盘"><a href="#3-3-1-制作系统镜像启动安装盘" class="headerlink" title="3.3.1 制作系统镜像启动安装盘"></a>3.3.1 制作系统镜像启动安装盘</h4><h5 id="1）Ubuntu系统镜像下载"><a href="#1）Ubuntu系统镜像下载" class="headerlink" title="1）Ubuntu系统镜像下载"></a>1）Ubuntu系统镜像下载</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ubuntu官网：https://cn.ubuntu.com/download</span><br></pre></td></tr></table></figure>

<p>因为我之前下载过 Ubuntu 22 镜像文件，所以这一步我直接把以前下载的文件找出来即可使用。</p>
<img src="/2024/02/11/linux/image-20231105113538672.png" alt="image-20231105113538672" style="zoom:50%;">

<h5 id="2）制作启动盘软件-UltraISO-下载"><a href="#2）制作启动盘软件-UltraISO-下载" class="headerlink" title="2）制作启动盘软件(UltraISO)下载"></a>2）制作启动盘软件(UltraISO)下载</h5><p>直接下载免费试用版本，全部默认下一步安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UltralSO官网：https://filehippo.com/download_ultra-iso/</span><br></pre></td></tr></table></figure>

<img src="/2024/02/11/linux/image-20231105113758947.png" alt="image-20231105113758947" style="zoom:50%;">

<h5 id="3）开始制作启动盘"><a href="#3）开始制作启动盘" class="headerlink" title="3）开始制作启动盘"></a>3）开始制作启动盘</h5><ol>
<li><p>准备一个空U盘(最好不要放重要文件)，会被格式化。</p>
</li>
<li><p>在 UltraISO 中打开之前下载好的Ubuntu镜像（我这里是放在D盘中了。在下侧的窗口中找到 Ubuntu 镜像文件，然后双击，上侧的窗口就会自动更新）：<img src="/2024/02/11/linux/image-20231105114107159.png" alt="image-20231105114107159" style="zoom:50%;"></p>
</li>
<li><p>将Ubuntu镜像写入到U盘中。<img src="/2024/02/11/linux/image-20231105114347495.png" alt="image-20231105114347495" style="zoom:50%;"></p>
</li>
<li><p>这里依次是：你的U盘(通常会默认选中)、Ubuntu镜像文件路径、写入方式USB-HDD+</p>
<img src="/2024/02/11/linux/image-20231105114600323.png" alt="image-20231105114600323" style="zoom:33%;">
</li>
<li><p>便捷启动——&gt;写入新的硬盘引导记录(MBR)——&gt;USB-HDD+：</p>
<img src="/2024/02/11/linux/image-20231105114636691.png" alt="image-20231105114636691" style="zoom:50%;">
</li>
<li><p>开始写入：(在点击写入之前可以先“格式化”，不点的话默认将你的U盘格式化)</p>
<img src="/2024/02/11/linux/image-20231105114743211.png" alt="image-20231105114743211" style="zoom:50%;">
</li>
<li><p>然后大概等个三分钟左右即可。</p>
<img src="/2024/02/11/linux/image-20231105114811267.png" alt="image-20231105114811267" style="zoom:50%;">
</li>
<li><p>写入成功后设备和驱动器页面显示如下：</p>
<img src="/2024/02/11/linux/image-20231105114849251.png" alt="image-20231105114849251" style="zoom:50%;"></li>
</ol>
<h4 id="3-3-2-安装Ubuntu"><a href="#3-3-2-安装Ubuntu" class="headerlink" title="3.3.2 安装Ubuntu"></a>3.3.2 安装Ubuntu</h4><h5 id="1）设置BIOS"><a href="#1）设置BIOS" class="headerlink" title="1）设置BIOS"></a>1）设置BIOS</h5><p>进入BIOS，设置U盘优先启动。不同机子进入BIOS不同，自行百度(本机联想拯救者按F2)</p>
<ol>
<li><p>根据屏幕下方的按键提示，把 Secure Boot 改为 Disabled<img src="/2024/02/11/linux/image-20231105130044585.png" alt="image-20231105130044585"></p>
</li>
<li><p>在 Boot 界面中，USB Boot需要设置为 Enabled，另外下方的 EFI 中，通过上下移动把 U盘 对应的设备移到第一行，使电脑在启动时通过U盘启动。<img src="/2024/02/11/linux/image-20231105130429621.png" alt="image-20231105130429621"></p>
</li>
<li><p>最后保存退出-&gt;重启电脑</p>
</li>
</ol>
<h5 id="2）安装Ubuntu"><a href="#2）安装Ubuntu" class="headerlink" title="2）安装Ubuntu"></a>2）安装Ubuntu</h5><p>重启之后电脑会显示（有的会显示Ubuntu install(safe graphics)），按上下键选中 -&gt; 按e（不要按回车）跳到下一步</p>
<img src="/2024/02/11/linux/image-20231119183419383.png" alt="image-20231119183419383" style="zoom:33%;">

<p>如果 quiet splash后面显示的不是 nomodeset，(改成如下即可)，然后按F10，进入Ubuntu安装界面</p>
<img src="/2024/02/11/linux/image-20231119183525715.png" alt="image-20231119183525715" style="zoom:33%;">

<p>中文简体——安装Ubuntu</p>
<img src="/2024/02/11/linux/image-20231119183645413.png" alt="image-20231119183645413" style="zoom:33%;">

<p>因为大多都是命令行操作，键盘布局建议选English(美)</p>
<img src="/2024/02/11/linux/image-20231119183719557.png" alt="image-20231119183719557" style="zoom:33%;">

<p>网络连接</p>
<img src="/2024/02/11/linux/image-20231119183809617.png" alt="image-20231119183809617" style="zoom:33%;">

<p>建议选择最小安装，省时。</p>
<img src="/2024/02/11/linux/image-20231119183838890.png" alt="image-20231119183838890" style="zoom:33%;">

<p>最关键的步骤了：分区（也可以选择“清除整个磁盘并安装Ubuntu”,但每个机子的配置不一样，建议自己手动分区，如果是卸载Ubuntu重装Ubuntu，也建议自己手动分区）</p>
<img src="/2024/02/11/linux/image-20231119184130175.png" alt="image-20231119184130175" style="zoom:33%;">

<h5 id="3）Ubuntu分区"><a href="#3）Ubuntu分区" class="headerlink" title="3）Ubuntu分区"></a>3）Ubuntu分区</h5><p>将原Windows所有被占用的分区删除（选择分区，再点左下角的-号），最后如下（我的电脑有两块硬盘，一块是名称为 nvme0n1 的 512G 硬盘，另一块是名称为 sda 的 512G 硬盘）</p>
<img src="/2024/02/11/linux/image-20231119184609476.png" alt="image-20231119184609476" style="zoom:33%;">

<p>通常最常用的硬盘大小（500G-1000G）分配目录推荐如下表所示：</p>
<img src="/2024/02/11/linux/image-20231119184807819.png" alt="image-20231119184807819" style="zoom:33%;">

<p>下面开始配置分区：</p>
<p><strong>EFI分区：</strong>用来安装启动引导器，建议大小是300MB，我分配了300M，主分区，空间起始位置</p>
<img src="/2024/02/11/linux/image-20231119184902779.png" alt="image-20231119184902779" style="zoom:33%;">

<p><strong>&#x2F;boot分区：</strong>建议大小1G，我分配了1G，逻辑分区，空间起始位置，Ext4日志文件系统，挂载点&#x2F;boot</p>
<img src="/2024/02/11/linux/image-20231119185042937.png" alt="image-20231119185042937" style="zoom:33%;">

<p><strong>swap交换分区：</strong>建议大小8～16G，我分配了16G，逻辑分区，空间起始位置，交换空间</p>
<img src="/2024/02/11/linux/image-20231119185116052.png" alt="image-20231119185116052" style="zoom:33%;">

<p><strong>&#x2F;（根目录）：</strong>推荐大小150G-200G，我分配了160G，主分区，空间起始位置，Ext4日志文件系统，挂载点&#x2F;</p>
<img src="/2024/02/11/linux/image-20231119185142199.png" alt="image-20231119185142199" style="zoom:33%;">

<p><strong>tmp：</strong>建议5G左右，我分配了5G。用于存放系统的临时文件，一般系统重启不会被保存。逻辑分区，空间起始位置，Ext4日志文件系统，挂载点&#x2F;tmp</p>
<img src="/2024/02/11/linux/image-20231119185215907.png" alt="image-20231119185215907" style="zoom:33%;">

<p><strong>&#x2F;home</strong>：尽可能大点，我把剩下的空间都给了home。逻辑分区，空间起始位置，Ext4日志文件系统，挂载点&#x2F;home</p>
<img src="/2024/02/11/linux/image-20231119185244647.png" alt="image-20231119185244647" style="zoom:33%;">

<p>因为我有两块硬盘，第二块硬盘这里直接挂载到 &#x2F;sda2 目录下。逻辑分区，空间起始位置，Ext4日志文件系统，挂载点&#x2F;sda2</p>
<img src="/2024/02/11/linux/image-20231119185342048.png" alt="image-20231119185342048" style="zoom:33%;">

<p>最终空间分配情况：（注意最下面安装启动引导器的设备要选择刚刚分配好的efi分区）</p>
<img src="/2024/02/11/linux/image-20231119185835783.png" alt="image-20231119185835783" style="zoom:33%;">

<p>时区：按照自己所在设置即可</p>
<img src="/2024/02/11/linux/image-20231119185855248.png" alt="image-20231119185855248" style="zoom:33%;">

<p>设置本机的用户名密码(登陆时用)，可以自由设置，但是如果像我一样在另一台笔记本上有虚拟机的，在用户名处建议设置为与原虚拟机用户名一致，这样后面安装好后可以直接拷贝conda环境而不需要重新安装一些生信软件。</p>
<img src="/2024/02/11/linux/image-20231119193049571.png" alt="image-20231119193049571" style="zoom:33%;">

<p>等几分钟之后就大功告成了。如果出现下面的界面只需要拔掉U盘，重新启动电脑即可</p>
<img src="/2024/02/11/linux/image-20231119193624804.png" alt="image-20231119193624804" style="zoom:33%;">



<h4 id="3-3-3-在Ubuntu下重装Ubuntu"><a href="#3-3-3-在Ubuntu下重装Ubuntu" class="headerlink" title="3.3.3 在Ubuntu下重装Ubuntu"></a>3.3.3 在Ubuntu下重装Ubuntu</h4><p>步骤不变。亲测依然能成功安装。</p>
<h4 id="3-3-4-简单配置-Ubuntu（可选）"><a href="#3-3-4-简单配置-Ubuntu（可选）" class="headerlink" title="3.3.4 简单配置 Ubuntu（可选）"></a>3.3.4 简单配置 Ubuntu（可选）</h4><p>因为选择的是最小安装，所以需要安装一些必要的软件。</p>
<h5 id="1）设置-root-密码"><a href="#1）设置-root-密码" class="headerlink" title="1）设置 root 密码"></a>1）设置 root 密码</h5><p>由于Ubuntu是基于Debian的linux操作系统；在默认情况下，是没有超级用户（root）的。在终端输入<code>sudo passwd root</code>,就可以设置root密码了；之后使用<code>su</code>命令，输入密码就能获得root权限了。</p>
<h5 id="2）配置SSH"><a href="#2）配置SSH" class="headerlink" title="2）配置SSH"></a>2）配置SSH</h5><p>安装下面两个软件，然后就可以通过 <code>ifconfig</code>命令查看 ip，本地网络远程登录了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install openssh-server</span><br><span class="line">sudo apt install net-tools</span><br></pre></td></tr></table></figure>

<h5 id="3）迁移-conda-环境"><a href="#3）迁移-conda-环境" class="headerlink" title="3）迁移 conda 环境"></a>3）迁移 conda 环境</h5><p>因为我原来笔记本电脑上有 conda 环境以及其它软件，所以直接拷贝 &#x2F;home&#x2F;用户名&#x2F; 目录下的 mambaforge 整个文件夹到 Ubuntu 系统就可以了（我这里安装的是mamba，不过conda应该也是一样的），还有一个 ~&#x2F;.condarc 文件也可以拷贝过去，另外还有 ~&#x2F;.bashrc 文件也可以直接拷贝过来使用。</p>
<p>不过需要注意直接迁移 conda 环境就能使用的前提是前面我们安装 Ubuntu 时用户名设置地和虚拟机地用户名一样，否则无法使用 conda，因为直接拷贝 conda 文件使用地依然是原来的用户名路径。（前面如果忘记设置为一样这时不需要重新安装，修改用户名即可，我是通过下面的博文修改的用户名，改完之后可以正常使用conda）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/qq_34160841/article/details/106886306 </span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">备份 ~/.bashrc</span><br><span class="line">备份 mambaforge</span><br><span class="line">备份生物软件 biosoft</span><br><span class="line">备份 ~/.vimrc</span><br><span class="line">备份 ~/.condarc</span><br><span class="line"></span><br><span class="line">安装 vim       sudo apt install vim</span><br><span class="line">安装 plocate   sudo apt install plocate</span><br><span class="line"></span><br><span class="line">#设置root密码</span><br><span class="line">sudo passwd root</span><br><span class="line"></span><br><span class="line">#修改用户名 tch-&gt;tao</span><br><span class="line">https://blog.csdn.net/qq_34160841/article/details/106886306</span><br></pre></td></tr></table></figure>

<p><img src="/2024/02/11/linux/image-20231109221315129.png" alt="image-20231109221315129"></p>
<img src="/2024/02/11/linux/image-20231109220027826.png" alt="image-20231109220027826" style="zoom:33%;">

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#初始化 mamba，然后重新开启一个命令行即可使用</span><br><span class="line">mamba init</span><br><span class="line"></span><br><span class="line">#文件变成可执行文件，更改权限即可</span><br><span class="line">chmod ugo-x file</span><br></pre></td></tr></table></figure>

<h2 id="4-首次登录与线上求助"><a href="#4-首次登录与线上求助" class="headerlink" title="4 首次登录与线上求助"></a>4 首次登录与线上求助</h2><h3 id="4-1-在局域网内登录-linux-终端"><a href="#4-1-在局域网内登录-linux-终端" class="headerlink" title="4.1 在局域网内登录 linux 终端"></a>4.1 在局域网内登录 linux 终端</h3><p>可使用 MobaXterm、putty、Xshell 等软件登录</p>
<p><strong>用户登录</strong></p>
<p>首先在 linux 虚拟机或服务器使用 <code>ifconfig</code> 查看 ip，如 192.168.91.130。然后在软件中登录，直接输入 ip 号用户名密码登录</p>
<blockquote>
<p>  tips：可重复登录多个，方便文件传输</p>
</blockquote>
<h3 id="4-2-指令帮助信息查询"><a href="#4-2-指令帮助信息查询" class="headerlink" title="4.2 指令帮助信息查询"></a>4.2 指令帮助信息查询</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 帮助</span></span><br><span class="line">--<span class="built_in">help</span></span><br><span class="line"><span class="comment"># man 还可以查看文件格式</span></span><br><span class="line">man <span class="comment"># 进入后空白键翻页，PgUp/PgDn 翻页，/word 向下查找关键字，?word 向上查找关键字，n/N 在查找关键字时继续下一个查找或者反向查找</span></span><br><span class="line"><span class="comment">## man page 文件数据存放在 /usr/share/man</span></span><br><span class="line">man -f info <span class="comment"># 找 info 相关的指令。与 whaits 相当</span></span><br><span class="line">man 5 info <span class="comment"># 查看 info5</span></span><br><span class="line">man -k information <span class="comment">#将所有 man 文档中含有 information 关键字的字段显示出来。与 apropos 相当</span></span><br><span class="line">info man <span class="comment">#类似于 man</span></span><br></pre></td></tr></table></figure>

<h3 id="4-3-用户与密码问题"><a href="#4-3-用户与密码问题" class="headerlink" title="4.3 用户与密码问题"></a>4.3 用户与密码问题</h3><h4 id="4-3-1-忘记密码怎么办"><a href="#4-3-1-忘记密码怎么办" class="headerlink" title="4.3.1 忘记密码怎么办?"></a>4.3.1 忘记密码怎么办?</h4><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/451700077">忘记root密码怎么办</a></p>
<p>忘记用户密码怎么办？</p>
<ul>
<li><p>先进入root，再运行下面命令</p>
</li>
<li><pre><code class="bash">sudo passwd user(用户名)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 4.3.2 Ubuntu如何进入root</span><br><span class="line"></span><br><span class="line">由于Ubuntu是基于Debian的linux操作系统；在默认情况下，是没有超级用户（root）的。</span><br><span class="line">解决办法：在终端输入sudo passwd root,就可以设置root密码了；之后使用su命令，输入密码就能获得root权限了</span><br><span class="line"></span><br><span class="line">#### 4.3.3 添加与删除用户</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">sudo adduser user1  #  增加用户</span><br><span class="line">sudo deluser --remove-home user1  #  删除用户，同时删除该用户的家目录</span><br><span class="line"></span><br><span class="line">ls /home  # 查看所有一般用户</span><br><span class="line">who  # 查看当前在线用户</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<h2 id="5-Ubuntu-快速配置与生信环境搭建"><a href="#5-Ubuntu-快速配置与生信环境搭建" class="headerlink" title="5 Ubuntu 快速配置与生信环境搭建"></a>5 Ubuntu 快速配置与生信环境搭建</h2><h3 id="5-1-SSH-远程配置"><a href="#5-1-SSH-远程配置" class="headerlink" title="5.1 SSH 远程配置"></a>5.1 SSH 远程配置</h3><p>直接用虚拟系统里的终端进行操作不是特别好用，尤其是无法右键粘贴。所以我们需要先配置以下 SSH 以便于远程登录。</p>
<p><strong>第一步</strong>：登录虚拟机，打开终端，如下图所示：</p>
<img src="/2024/02/11/linux/image-20230420165729266.png" alt="image-20230420165729266" style="zoom:33%;">

<p><strong>第二步</strong>：打开终端后，输入下面的代码，即安装ssh服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install openssh-server</span><br></pre></td></tr></table></figure>

<p>操作截图：</p>
<img src="/2024/02/11/linux/image-20230420170044423.png" alt="image-20230420170044423" style="zoom:33%;">



<p><strong>第三步</strong>：安装完成后输入<code>ifconfig</code> 查看 ip 。不过这里会有一个问题，就是我们安装的 ubuntu 系统很多软件其实都没有安装，所以第一次输入<code>ifconfig</code>可能提示没有该命令，不过终端会有如何安装该命令的提示，只需要按照提示输入命令安装即可（另外，像 <code>vim</code>等命令系统都是没有安装的，不过这些命令终端都会提示我们用什么命令来安装，所以只需要在用到的时候根据提示安装即可）：</p>
<img src="/2024/02/11/linux/image-20230420170541228.png" alt="image-20230420170541228" style="zoom:33%;">

<p>接着我们再输入<code>ifconfig</code>即得到远程登录的 ip，我这里是 192.168.31.151:</p>
<img src="/2024/02/11/linux/image-20230420170656633.png" alt="image-20230420170656633" style="zoom:33%;">

<p><strong>第四步</strong>：远程登录终端，我这里使用的是 Xshell 软件，在新建会话中，只需要输入刚才得到的 ip,然后点击确定(主机即 ip，端口号一般是22)：</p>
<img src="/2024/02/11/linux/image-20230420171241709.png" alt="image-20230420171241709" style="zoom:33%;">

<p>然后我们单机该会话，点击连接：</p>
<img src="/2024/02/11/linux/image-20230420171347621.png" alt="image-20230420171347621" style="zoom:33%;">

<p>接着出现是否保存，选择一次性保存，然后会提示输入用户名与密码，即我们创建虚拟机时设置的用户名与密码：</p>
<img src="/2024/02/11/linux/image-20230420171535625.png" alt="image-20230420171535625" style="zoom:33%;">

<img src="/2024/02/11/linux/image-20230420171652208.png" alt="image-20230420171652208" style="zoom:33%;">

<p>接着便登录成功了，需要注意的是这里的远程登录指的是在同一局域网下，也就是虚拟机的电脑与远程登录的电脑需要连接同一个 wifi 才能用 Xshell 进行这样简单的远程连接，如果不在同一网络内是无法通过这种操作完成远程连接的。</p>
<img src="/2024/02/11/linux/image-20230420171808207.png" alt="image-20230420171808207" style="zoom:33%;">

<h3 id="5-2-配置用户颜色-可选"><a href="#5-2-配置用户颜色-可选" class="headerlink" title="5.2 配置用户颜色(可选)"></a>5.2 配置用户颜色(可选)</h3><p>依次输入下面的两行代码，可以设置用户颜色</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span>  <span class="string">&#x27;export PS1=&quot;\[\033]2;\h:\u \w\007\033[33;1m\]\u \033[35;1m\t\033[0m \[\033[36;1m\]\w\[\033[0m\]\n\[\e[32;1m\]$ \[\e[0m\]&quot;&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<p><img src="/2024/02/11/linux/image-20230420172328776.png" alt="image-20230420172328776"></p>
<h3 id="5-3-关于-VMvare-虚拟机快照-可选"><a href="#5-3-关于-VMvare-虚拟机快照-可选" class="headerlink" title="5.3 关于 VMvare 虚拟机快照(可选)"></a>5.3 关于 VMvare 虚拟机快照(可选)</h3><p>这里提一下 VMware 虚拟机的快照功能，如下所示，有时候我们可能对某个软件不太熟悉，可通过该选项设置一个这个点的快照，假如安装了一堆乱七八糟的软件想恢复到未安装前的状态只需要通过这个快照功能回到这个点的虚拟机状态，就不需要花时间去卸载了。另外建议快照在虚拟机关机的时候拍摄。（考虑到以后可能需要释放内存我现在一般不拍快照）</p>
<img src="/2024/02/11/linux/image-20230420195726173.png" alt="image-20230420195726173" style="zoom:33%;">

<h3 id="5-4-安装-mamba"><a href="#5-4-安装-mamba" class="headerlink" title="5.4 安装 mamba"></a>5.4 安装 mamba</h3><p><a target="_blank" rel="noopener" href="https://mamba.readthedocs.io/en/latest/user_guide/mamba.html#mamba">mamba官网</a></p>
<p>因为 mamba 下载软件的速度更快，所以我们直接安装 mamba 而不用安装 conda。</p>
<h4 id="1-下载-mambaforge"><a href="#1-下载-mambaforge" class="headerlink" title="(1) 下载 mambaforge"></a>(1) 下载 mambaforge</h4><p>直接从终端下载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/conda-forge/miniforge/releases/latest/download/Mambaforge-Linux-x86_64.sh</span><br><span class="line"><span class="comment"># 如果已经安装了conda,通过该命令可安装mamba    conda install mamba -n base -c conda-forge</span></span><br></pre></td></tr></table></figure>

<p>安装包 83M, 如果下载速度太慢，可以直接复制网址从浏览器下载（终端取消下载快捷键为<code>Ctrl</code> + <code>C</code>）。如果还是太慢，我也提供了网盘链接，下载后再通过 winscp 等软件上传到终端即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 百度网盘链接：https://pan.baidu.com/s/16UiS_xz2gZMkUy3RDhkJng?pwd=bmq5  提取码：bmq5 </span></span><br></pre></td></tr></table></figure>

<h4 id="2-安装-mamba"><a href="#2-安装-mamba" class="headerlink" title="(2) 安装 mamba"></a>(2) 安装 mamba</h4><p>在 mambaforge 安装包所在的文件夹下运行下面的代码安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh Mambaforge-Linux-x86_64.sh</span><br></pre></td></tr></table></figure>

<p>接着根据提示按 Enter 键或者输入 yes 完成安装（提示 yes&#x2F;no 的地方全部输入 yes ）。</p>
<img src="/2024/02/11/linux/image-20230420192134204.png" alt="image-20230420192134204" style="zoom:33%;">

<p>安装完成：</p>
<img src="/2024/02/11/linux/image-20230420192255079.png" alt="image-20230420192255079" style="zoom:33%;">

<h4 id="3-刷新环境变量"><a href="#3-刷新环境变量" class="headerlink" title="(3) 刷新环境变量"></a>(3) 刷新环境变量</h4><p>安装后需要运行下面的代码刷新环境变量后才能使用mamba</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>刷新后输入<code>mamba</code>即可出现mamba的使用方法：</p>
<img src="/2024/02/11/linux/image-20230420201509156.png" alt="image-20230420201509156" style="zoom:33%;">

<h4 id="4-添加软件源"><a href="#4-添加软件源" class="headerlink" title="(4) 添加软件源"></a>(4) 添加软件源</h4><p>生信常用的软件很多都在 bioconda，所以需要添加 bioconda 的软件源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#添加软件源</span></span><br><span class="line">conda config --add channels bioconda</span><br><span class="line"><span class="comment">#查看软件源</span></span><br><span class="line"><span class="built_in">cat</span> ~/.condarc</span><br></pre></td></tr></table></figure>

<img src="/2024/02/11/linux/image-20230420175236006-1681993622932-1.png" alt="image-20230420175236006" style="zoom:50%;">

<h4 id="5-添加国内镜像-暂不添加"><a href="#5-添加国内镜像-暂不添加" class="headerlink" title="(5) 添加国内镜像(暂不添加)"></a>(5) 添加国内镜像(暂不添加)</h4><p>目前国内清华大学以及北京外国语大学等也提供 biocodna 的镜像，可以将这些镜像添加进来，替换官方镜像。但目前 bioconda 官方镜像速度还可以，且国内镜像如果有多人访问时会造成拥堵，反而更慢了，具体使用看个人需求。这里先不添加。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">添加清华大学镜像</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</span><br></pre></td></tr></table></figure>

<h3 id="5-5-创建虚拟环境"><a href="#5-5-创建虚拟环境" class="headerlink" title="5.5 创建虚拟环境"></a>5.5 创建虚拟环境</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39744154/article/details/122358872">mamba使用</a></p>
<p>mamba的使用方法与conda一样，比如创建一个名为 rna_seq 的虚拟环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mamba create -n rna_seq </span><br></pre></td></tr></table></figure>

<img src="/2024/02/11/linux/image-20230420201752997-1681993690614-3.png" alt="image-20230420201752997" style="zoom:33%;">

<p>进入 rna_seq 虚拟环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mamba activate rna_seq</span><br></pre></td></tr></table></figure>

<img src="/2024/02/11/linux/image-20230420201858516-1681993690615-4.png" alt="image-20230420201858516" style="zoom:50%;">

<h3 id="5-6-安装转录组上游分析软件"><a href="#5-6-安装转录组上游分析软件" class="headerlink" title="5.6 安装转录组上游分析软件"></a>5.6 安装转录组上游分析软件</h3><h4 id="1-通过-mamba-安装"><a href="#1-通过-mamba-安装" class="headerlink" title="(1) 通过 mamba 安装"></a>(1) 通过 mamba 安装</h4><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/O9KZdU9XvqW0_ZWtJM-rnA">在全新服务器配置转录组测序数据处理环境 (qq.com)</a></p>
<p>只需要把原来conda的位置换成mamba即可，下面安装了几个常用的软件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装Aspera</span></span><br><span class="line">mamba install -y -c hcc aspera-cli </span><br><span class="line"><span class="comment"># 从 bioconda 安装fastqc fastp multiqc hisat2 samtools subread软件</span></span><br><span class="line">mamba install -c bioconda -y fastqc fastp multiqc hisat2 samtools subread bwa</span><br></pre></td></tr></table></figure>

<p><strong>批量查看软件是否安装成功</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="built_in">id</span> <span class="keyword">in</span> fastp fastqc multiqc hisat2 samtools subread bwa sratool;<span class="keyword">do</span> mamba list |grep <span class="variable">$id</span> || <span class="built_in">echo</span> <span class="variable">$id</span>: not download yet ;<span class="keyword">done</span></span><br><span class="line"><span class="comment"># 另一种查看方法 </span></span><br><span class="line"><span class="comment"># for id in fastp fastqc multiqc hisat2 samtools subread bwa;do mamba list $id ;done</span></span><br></pre></td></tr></table></figure>

<img src="/2024/02/11/linux/image-20230420204133046.png" alt="image-20230420204133046" style="zoom:50%;">

<h4 id="2-直接下载安装包安装"><a href="#2-直接下载安装包安装" class="headerlink" title="(2) 直接下载安装包安装"></a>(2) 直接下载安装包安装</h4><p>以 sratoolkit 为例，通过 wget 下载，或者通过浏览器下载，然后上传到服务器。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载</span></span><br><span class="line">wget https://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/3.0.1/sratoolkit.3.0.1-centos_linux64.tar.gz</span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar -zxvf sratoolkit.3.0.1-centos_linux64.tar.gz</span><br><span class="line"><span class="comment"># 加入环境变量，注意路径设置为自己的路径</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=~/software/sratoolkit.3.0.1-centos_linux64/bin:$PATH&#x27;</span> &gt;&gt; ~/.bashrc  </span><br><span class="line"><span class="comment">##echo &#x27;export PATH=~/bin:$PATH&#x27; &gt;&gt; ~/.bashrc</span></span><br><span class="line"><span class="comment"># 刷新环境变量</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="comment"># 检查是否安装成功</span></span><br><span class="line">prefetch --version</span><br></pre></td></tr></table></figure>

<hr>
<p>环境搭建好了，接下来我们就可以开启转录组实战啦。</p>
<h3 id="5-7-一些便捷的配置"><a href="#5-7-一些便捷的配置" class="headerlink" title="5.7 一些便捷的配置"></a>5.7 一些便捷的配置</h3><h4 id="1-ll"><a href="#1-ll" class="headerlink" title="(1) ll"></a>(1) ll</h4><p>在 bashrc 中更改 ll 命令的配置，比如添加 <code>-h</code></p>
<h4 id="2-vim-配置"><a href="#2-vim-配置" class="headerlink" title="(2) vim 配置"></a>(2) vim 配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 先在家目录下创建1个 .vimrc 文件</span></span><br><span class="line">vi ~/.vimrc</span><br><span class="line"><span class="comment"># 然后将下面的代码复制到文档中， set nu 代表给每一行加上序号。不同文件扩展名不同语法高亮，语法高亮，设置行号，缩进</span></span><br><span class="line">filetype on</span><br><span class="line">syntax on</span><br><span class="line"><span class="built_in">set</span> nu</span><br><span class="line"><span class="built_in">set</span> cindent</span><br><span class="line"><span class="built_in">set</span> tabstop=4</span><br><span class="line"><span class="built_in">set</span> softtabstop=4</span><br><span class="line"><span class="built_in">set</span> expandtab</span><br><span class="line"><span class="built_in">set</span> shiftwidth=4</span><br><span class="line"><span class="built_in">set</span> ruler</span><br><span class="line"><span class="built_in">set</span> backspace=indent,eol,start</span><br></pre></td></tr></table></figure>

<h4 id="3-下载-plocate"><a href="#3-下载-plocate" class="headerlink" title="(3) 下载 plocate"></a>(3) 下载 plocate</h4><p>可直接通过 plocate 命令定位到任意文件，比较方便</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install plocate</span><br></pre></td></tr></table></figure>

<h4 id="4-释放存储空间"><a href="#4-释放存储空间" class="headerlink" title="(4) 释放存储空间"></a>(4) 释放存储空间</h4><p>虚拟机中的存储空间不会随着文件的删除而释放，需要手动释放。如果有虚拟机快照报错的话需要先删除快照再运行下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/bin/vmware-toolbox-cmd disk list</span><br><span class="line">sudo /usr/bin/vmware-toolbox-cmd disk shrink /</span><br></pre></td></tr></table></figure>

<h1 id="第-2-部分-linux文件、目录与磁盘格式"><a href="#第-2-部分-linux文件、目录与磁盘格式" class="headerlink" title="第 2 部分 linux文件、目录与磁盘格式"></a>第 2 部分 linux文件、目录与磁盘格式</h1><h2 id="6-linux文件权限与目录配置"><a href="#6-linux文件权限与目录配置" class="headerlink" title="6 linux文件权限与目录配置"></a>6 linux文件权限与目录配置</h2><h3 id="6-1-使用者与群组"><a href="#6-1-使用者与群组" class="headerlink" title="6.1 使用者与群组"></a>6.1 使用者与群组</h3><p><strong>用户身份</strong>：文件拥有者、群组、其他人</p>
<p><strong>使用者与群组记录的文件</strong></p>
<p>默认的情况下，所有的系统上的帐号与一般身份使用者，还有那个root的相关信息， 都是记录在&#x2F;etc&#x2F;passwd这个文件内的。至于个人的密码则是记录在 &#x2F;etc&#x2F;shadow 这个文件下。 此外，Linux所有的群组名称都纪录在&#x2F;etc&#x2F;group内。</p>
<h3 id="6-2-Linux-文件权限概念"><a href="#6-2-Linux-文件权限概念" class="headerlink" title="6.2 Linux 文件权限概念"></a>6.2 Linux 文件权限概念</h3><h4 id="6-2-1-linux-文件属性"><a href="#6-2-1-linux-文件属性" class="headerlink" title="6.2.1 linux 文件属性"></a>6.2.1 linux 文件属性</h4><p>文件信息 7 列分别代表：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#   权限    链接数  拥有者   群组   大 小    最后修改日期      文件名</span></span><br><span class="line">-rw-r--r--   1     root   root   3106   10月 15  2021   .bashrc</span><br></pre></td></tr></table></figure>

<p><strong>权限含义</strong></p>
<p>drwxrwxrwx 档案类型\用户权限(u for user)\群组权限(g for group)\其他人权限(o for other)</p>
<ul>
<li>d 目录、- 文件、l 链接、b 可随机存取设备、c 一次性读取设备</li>
<li>r 可读(read)、w 可写(write)、e 可执行(excute)、- 没有权限</li>
</ul>
<p>链接数代表有多少文件名链接到此节点(i-node)</p>
<h4 id="6-2-2-更改文件属性与权限"><a href="#6-2-2-更改文件属性与权限" class="headerlink" title="6.2.2 更改文件属性与权限"></a>6.2.2 更改文件属性与权限</h4><ul>
<li>chgrp 更改文件所属群组</li>
<li>chown 更改文件拥有者</li>
<li>chmod 更改文件权限</li>
</ul>
<p>例如拷贝文件时有时需要修改权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将文件群组改为 users，前提是该群组存在于 /etc/group，-R 递归修改</span></span><br><span class="line"><span class="built_in">chgrp</span> <span class="built_in">users</span> file.txt</span><br><span class="line"><span class="comment"># 将拥有者改为 bin 账号,前提是该用户存在于 /etc/passwd，-R 递归修改</span></span><br><span class="line"><span class="built_in">chown</span> bin file</span><br><span class="line"><span class="comment"># 同时修改用户与群组</span></span><br><span class="line"><span class="built_in">chown</span> tao.shadow file</span><br><span class="line"><span class="comment"># chown 仅修改群组</span></span><br><span class="line"><span class="built_in">chown</span> .shadow file</span><br><span class="line"></span><br><span class="line"><span class="comment">#chomod 改变权限1：数字类型  r：可读(4) ； w：可写(2) ； x：可编辑(1) ；无权限(0)</span></span><br><span class="line"><span class="built_in">chmod</span> 755 file</span><br><span class="line"><span class="comment">#chomod 改变权限2：符号类型  +：增加权限 ；-：减少权限 ； =：赋予权限 ; a：所有用户</span></span><br><span class="line"><span class="built_in">chmod</span> go-rx file</span><br><span class="line"><span class="built_in">chmod</span> u=rwx,go=rx file</span><br><span class="line"><span class="built_in">chmod</span> a-x file</span><br></pre></td></tr></table></figure>

<h4 id="6-2-3-目录与文件的权限区别"><a href="#6-2-3-目录与文件的权限区别" class="headerlink" title="6.2.3 目录与文件的权限区别"></a>6.2.3 目录与文件的权限区别</h4><p>对于文件：rwx 分别代表可读可写可执行</p>
<p>对于目录：r 代表能否读取目录清单、w代表能否更改目录清单如删除改名等、x代表能否进入该目录成为工作目录</p>
<h3 id="6-3-linux-目录配置"><a href="#6-3-linux-目录配置" class="headerlink" title="6.3 linux 目录配置"></a>6.3 linux 目录配置</h3><h4 id="6-3-1-目录配置依据-FHS"><a href="#6-3-1-目录配置依据-FHS" class="headerlink" title="6.3.1 目录配置依据-FHS"></a>6.3.1 目录配置依据-FHS</h4><p>Filesystem Hierarchy Standard（FHS）标准</p>
<p>类似于：</p>
<table>
<thead>
<tr>
<th></th>
<th>可分享的(shareable)</th>
<th>不可分享的(unshareable)</th>
</tr>
</thead>
<tbody><tr>
<td>不变的(static)</td>
<td>&#x2F;usr 软件放置处、&#x2F;opt 第三方协力软件</td>
<td>&#x2F;etc 配置文件、&#x2F;boot 开机与核心档</td>
</tr>
<tr>
<td>可变的(variable)</td>
<td>&#x2F;var&#x2F;mail 使用者邮件信箱、&#x2F;var&#x2F;spool&#x2F;news 新闻群组</td>
<td>&#x2F;var&#x2F;run 程序相关、&#x2F;var&#x2F;lock 程序相关</td>
</tr>
</tbody></table>
<p><strong>FHS 仅定义了下面三个主要目录</strong>：</p>
<ul>
<li>&#x2F;（root,根目录与开机系统有关</li>
<li>&#x2F;usr（unix software resource）Unix操作系统软件资源，与软件安装&#x2F;执行有关<ul>
<li>&#x2F;usr&#x2F;local 系统管理员在本机自己安装自己下载的软件</li>
<li>&#x2F;usr&#x2F;bin、&#x2F;usr&#x2F;lib、&#x2F;usr&#x2F;sbin、&#x2F;usr&#x2F;share</li>
</ul>
</li>
<li>&#x2F;var（variable）与系统运行过程有关<ul>
<li>&#x2F;var&#x2F;cache</li>
<li>&#x2F;var&#x2F;lib、&#x2F;var&#x2F;lock、&#x2F;var&#x2F;log、&#x2F;var&#x2F;mail、&#x2F;var&#x2F;run(PID即在该目录)、&#x2F;var&#x2F;spool</li>
</ul>
</li>
</ul>
<p><strong>FHS 定义根目录 &#x2F; 下面必须要有这些次目录</strong>：</p>
<ul>
<li>&#x2F;bin 放置可执行文件</li>
<li>&#x2F;boot 开机会使用到的文件</li>
<li>&#x2F;dev 设备文件</li>
<li>&#x2F;etc 系统主要配置文件<ul>
<li>&#x2F;etc&#x2F;opt 放置第三方协力软件 &#x2F;opt 的相关配置文件</li>
</ul>
</li>
<li>&#x2F;lib 在开机时会用到的函数库， 以及在&#x2F;bin或&#x2F;sbin下面的指令会调用的函数库<ul>
<li>&#x2F;lib&#x2F;modules 放置可抽换式的核心相关模块（驱动程序）</li>
</ul>
</li>
<li>&#x2F;media 可移除的设备</li>
<li>&#x2F;mnt 用于暂时挂载某些额外的设备</li>
<li>&#x2F;opt 放置第三方协力软件的目录</li>
<li>&#x2F;run 开机后所产生的各项信息</li>
<li>&#x2F;sbin 开机过程中所需要的，里面包括了开机、修复、还原系统所需要的指令</li>
<li>&#x2F;srv 一些网络服务启动之后，这些服务所需要取用的数据目录。系统的服务数据如果尚未要提供给网际网络任何人浏览的话，默认还是建议放置到 &#x2F;var&#x2F;lib 下面即可</li>
<li>&#x2F;tmp 让一般使用者或者是正在执行的程序暂时放置文件的地方</li>
</ul>
<p><strong>FHS 建议可以存在的目录</strong>：</p>
<ul>
<li>&#x2F;home 使用者主文件夹</li>
<li>&#x2F;lib<qual> 存放与 &#x2F;lib 不同格式的函数库，如 &#x2F;lib64函数库</qual></li>
<li>&#x2F;root 系统管理员主文件夹，我们会希望root的主文件夹与根目录放置在同一个分区中</li>
</ul>
<p><strong>其它比较重要的目录</strong></p>
<ul>
<li>&#x2F;lost+found 是使用标准的ext2&#x2F;ext3&#x2F;ext4文件系统格式才会产生的一个目录，目的在于当文件系统发生错误时，将一些遗失的片段放置到这个目录下。</li>
<li>&#x2F;proc 虚拟文件系统，数据都在内存中，如系统核心、行程信息、设备和网络状态等。</li>
<li>&#x2F;sys 与 &#x2F;proc 类似</li>
</ul>
<h4 id="6-3-2-目录树"><a href="#6-3-2-目录树" class="headerlink" title="6.3.2 目录树"></a>6.3.2 目录树</h4><p>每一个目录不止能使用本地端的 partition 的文件系统，也可以使用网络上的 filesystem</p>
<h2 id="7-linux文件与目录管理"><a href="#7-linux文件与目录管理" class="headerlink" title="7 linux文件与目录管理"></a>7 linux文件与目录管理</h2><h3 id="7-1-目录与路径"><a href="#7-1-目录与路径" class="headerlink" title="7.1 目录与路径"></a>7.1 目录与路径</h3><h4 id="7-1-1-绝对路径与相对路径"><a href="#7-1-1-绝对路径与相对路径" class="headerlink" title="7.1.1 绝对路径与相对路径"></a>7.1.1 绝对路径与相对路径</h4><h4 id="7-1-2-目录的相关操作"><a href="#7-1-2-目录的相关操作" class="headerlink" title="7.1.2 目录的相关操作"></a>7.1.2 目录的相关操作</h4><p><strong>目录指令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换目录 change directory</span></span><br><span class="line"><span class="built_in">cd</span></span><br><span class="line"><span class="comment"># -P 打印真实路径而非链接路径</span></span><br><span class="line"><span class="built_in">pwd</span></span><br><span class="line"><span class="comment"># -m 设置权限，-p 递归创建</span></span><br><span class="line"><span class="built_in">mkdir</span></span><br><span class="line"><span class="comment"># 删除空目录</span></span><br><span class="line"><span class="built_in">rmdir</span></span><br></pre></td></tr></table></figure>

<h4 id="7-1-3-PATH"><a href="#7-1-3-PATH" class="headerlink" title="7.1.3 $PATH"></a>7.1.3 $PATH</h4><p>ls 等指令能执行是因为已经被添加到环境变量 $PATH 中。</p>
<h3 id="7-2-文件与目录管理"><a href="#7-2-文件与目录管理" class="headerlink" title="7.2 文件与目录管理"></a>7.2 文件与目录管理</h3><h4 id="7-2-1-文件与目录检视"><a href="#7-2-1-文件与目录检视" class="headerlink" title="7.2.1 文件与目录检视"></a>7.2.1 <strong>文件与目录检视</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看目录中文件 list</span></span><br><span class="line"><span class="built_in">ls</span>  <span class="comment"># 查看当前目录下的文件</span></span><br><span class="line">ll  <span class="comment">#  其实是ls -alF , 已经在环境变量里等价配置好了 </span></span><br><span class="line"><span class="comment"># 参数 -S 根据文件大小排序；-t 根据文件修改时间排序；-R 显示递归信息；-h 人性化显示；-r 逆序；-d 只显示目录而非目录内文件</span></span><br><span class="line"></span><br><span class="line">tree -x directory <span class="comment"># 查看目录下所有文件夹</span></span><br><span class="line">tree -L 2 <span class="comment"># 查看最多2层</span></span><br></pre></td></tr></table></figure>

<h4 id="7-2-2-复制"><a href="#7-2-2-复制" class="headerlink" title="7.2.2 复制"></a>7.2.2 <strong>复制</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拷贝并粘贴文件或者目录 copy file。-b 覆盖前备份；-f 存在同名文件强制覆盖；-i 存在同名文件询问是否覆盖；-r 递归；-l 复制为硬链接；-s 复制为软链接</span></span><br><span class="line"><span class="comment"># 使用 -p 复制链接时，复制原始文件；而使用 -a 复制链接时，复制链接；不加参数复制链接时，复制原始文件</span></span><br><span class="line"><span class="built_in">cp</span> file.txt ./ <span class="comment">#不加参数，复制文件但会改变所有者、修改时间等</span></span><br><span class="line"><span class="built_in">cp</span> -a file.txt ./ <span class="comment"># 相当于 -dr --preserve=all 的意思。常用</span></span><br><span class="line"><span class="built_in">cp</span> -p <span class="comment"># 连同文件的属性（权限、用户、时间）一起复制过去，而非使用默认属性（备份常用）</span></span><br><span class="line"><span class="built_in">cp</span> -d <span class="comment"># 若来源文件为链接文件的属性（link file），则复制链接文件属性而非文件本身</span></span><br><span class="line"><span class="built_in">cp</span> -u A B <span class="comment">#只有文件A比文件B新或B不存在时，才复制。把 A 复制为 B，可用于备份</span></span><br><span class="line"><span class="comment"># --preserve=all ：除了 -p 的权限相关参数外，还加入 SELinux 的属性, links, xattr 等也复制了。</span></span><br></pre></td></tr></table></figure>

<h4 id="7-2-3-删除"><a href="#7-2-3-删除" class="headerlink" title="7.2.3 删除"></a>7.2.3 <strong>删除</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除文件或者目录 remove。-r 递归删除；-f 强制删除不提示；-i 删除时提示，-v 显示删除过程。注意删除不可恢复</span></span><br><span class="line"><span class="built_in">rm</span>  1.txt</span><br><span class="line"><span class="built_in">rm</span> -rf *.txt </span><br></pre></td></tr></table></figure>

<h4 id="7-2-4-移动或重命名"><a href="#7-2-4-移动或重命名" class="headerlink" title="7.2.4 移动或重命名"></a>7.2.4 <strong>移动或重命名</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#重命名或者移动文件或者目录 move。-b、-f、-i 、-u 与 cp 用法一致</span></span><br><span class="line"><span class="built_in">mv</span> 1.txt 2.txt</span><br><span class="line"><span class="built_in">mv</span> 1.txt ./test</span><br><span class="line"><span class="built_in">mv</span> file1 file2 directory  <span class="comment"># 移动多个文件到目录</span></span><br></pre></td></tr></table></figure>

<h4 id="7-2-5-获取路径的文件名称与目录名称"><a href="#7-2-5-获取路径的文件名称与目录名称" class="headerlink" title="7.2.5 获取路径的文件名称与目录名称"></a>7.2.5 <strong>获取路径的文件名称与目录名称</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取文件名</span></span><br><span class="line"><span class="built_in">basename</span> </span><br><span class="line"><span class="comment">#获取目录名</span></span><br><span class="line"><span class="built_in">dirname</span></span><br></pre></td></tr></table></figure>

<h4 id="7-2-6-链接"><a href="#7-2-6-链接" class="headerlink" title="7.2.6 链接"></a>7.2.6 <strong>链接</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#链接文件 link files。-s 软链接，-v 显示链接过程</span></span><br><span class="line"><span class="built_in">ln</span> -s /home/tao/bioinfo/example/ ./</span><br><span class="line"><span class="built_in">ln</span> -s  源文件/目录 目标文件/目录  <span class="comment"># 软链接，相当于快捷方式</span></span><br><span class="line"><span class="built_in">ln</span> 源文件 目标文件  <span class="comment"># 硬链接，inode号相同，删除文件需要删除所有硬链接</span></span><br></pre></td></tr></table></figure>

<h3 id="7-3-文件内容检视"><a href="#7-3-文件内容检视" class="headerlink" title="7.3 文件内容检视"></a>7.3 文件内容检视</h3><h4 id="7-3-1-直接检视文件内容"><a href="#7-3-1-直接检视文件内容" class="headerlink" title="7.3.1 直接检视文件内容"></a>7.3.1 直接检视文件内容</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># concatenate 两个功能，1.查看文件 2.合并多个文件（配合重定向）。-n 显示行号 -A 显示所有字符 -b 仅显示非空白行行号</span></span><br><span class="line"><span class="built_in">cat</span>  <span class="comment"># zcat 检视压缩文件内容</span></span><br><span class="line"><span class="comment"># 最后一行先显示，倒过来</span></span><br><span class="line"><span class="built_in">tac</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加行号打印，默认 = nl -b t 代表不打印空行</span></span><br><span class="line"><span class="built_in">nl</span> /etc/issue  <span class="comment"># 默认</span></span><br><span class="line"><span class="built_in">nl</span> -b a /etc/issue  <span class="comment"># 打印空行行号</span></span><br><span class="line"><span class="built_in">nl</span> -n <span class="built_in">ln</span> /etc/issue <span class="comment"># 行号显示在最左侧，rn即行号显示在最右侧</span></span><br><span class="line"><span class="built_in">nl</span> -n rz /etc/issue <span class="comment"># 行号显示在最右侧，且补0</span></span><br><span class="line"><span class="built_in">nl</span> -w 3 /etc/issue <span class="comment"># 行号占据3个字符位数</span></span><br></pre></td></tr></table></figure>

<h4 id="7-3-2-可翻页检视"><a href="#7-3-2-可翻页检视" class="headerlink" title="7.3.2 可翻页检视"></a>7.3.2 可翻页检视</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 缓慢查看文件内容，空格向后翻页；B 向前翻页；:f 显示文件名与行号</span></span><br><span class="line">more</span><br><span class="line"><span class="comment"># 指令。-m 显示百分比信息；-S 格式化显示；-N 显示行号</span></span><br><span class="line">less <span class="comment"># zless 检视压缩文件内容</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>less中</strong></p>
<ul>
<li>空格向后翻页；B 向前翻页</li>
<li>&#x2F;字段 向后检索；?字段向前检索；n检索时查看下一个；N检索时反向查看下一个</li>
<li>g 去第一行；G去最后一行</li>
<li>q 退出检视</li>
</ul>
<h4 id="7-3-3-数据截取"><a href="#7-3-3-数据截取" class="headerlink" title="7.3.3 数据截取"></a>7.3.3 数据截取</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">head</span> -n 2 file.txt   <span class="comment"># 查看前2行内容</span></span><br><span class="line"><span class="built_in">head</span> -n -100 file.txt <span class="comment"># 取出最后100行前面的所有行</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">tail</span> -n 20 file.txt  <span class="comment"># 查看最后20行内容</span></span><br><span class="line"><span class="built_in">tail</span> -n +100 file.txt  <span class="comment"># 查看前100行后面的所有行</span></span><br><span class="line"><span class="built_in">tail</span> -f file <span class="comment">#持续监测文件内容</span></span><br></pre></td></tr></table></figure>

<h4 id="7-3-4-非纯文本文件：od"><a href="#7-3-4-非纯文本文件：od" class="headerlink" title="7.3.4 非纯文本文件：od"></a>7.3.4 非纯文本文件：od</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a 默认字符显示；c ASCII 字符显示；dfox分别代表十进制、浮点数值、八进制、十六进制，后面可加size，下面的C代表char,值把输出的数字当成字符来存储，使字符对齐。</span></span><br><span class="line"><span class="built_in">od</span> -t [acdfox] file</span><br><span class="line"><span class="built_in">od</span> -t oCc file</span><br></pre></td></tr></table></figure>

<h4 id="7-3-5-修改文件时间或创建新文件：touch"><a href="#7-3-5-修改文件时间或创建新文件：touch" class="headerlink" title="7.3.5 修改文件时间或创建新文件：touch"></a>7.3.5 修改文件时间或创建新文件：touch</h4><p>每个文件在 linux 下都会记录许多时间参数，其中有三个主要的变动时间</p>
<ul>
<li>modification time(mtime) 文件内容数据变更时该时间更新。终端显示的为 mtime</li>
<li>status time(ctime) 文件状态改变时更新，如权限或属性</li>
<li>access time(atime) 文件内容被取用时更新，如 cat</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span>;ll ~/.bashrc;ll --time=ctime ~/.bashrc;ll --time=atime ~/.bashrc</span><br></pre></td></tr></table></figure>

<p><strong>touch修改文件时间或创建新文件</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> [-acdmt] 文件</span><br><span class="line"><span class="built_in">touch</span> -d <span class="string">&quot;2 days ago&quot;</span> file</span><br><span class="line"><span class="built_in">touch</span> -t 201802041325 file</span><br></pre></td></tr></table></figure>

<ul>
<li>a 仅修改 atime</li>
<li>c 仅修改文件时间，文件不存在则不创建</li>
<li>d 后面可以接欲修订的日期而不用目前的日期，也可以使用 –date&#x3D;”日期或时间”</li>
<li>m 仅修改 mtime</li>
<li>t 后面可以接欲修订的时间而不用目前的时间，格式为[YYYYMMDDhhmm]</li>
</ul>
<h3 id="7-4-文件与目录的默认权限与隐藏权限"><a href="#7-4-文件与目录的默认权限与隐藏权限" class="headerlink" title="7.4 文件与目录的默认权限与隐藏权限"></a>7.4 文件与目录的默认权限与隐藏权限</h3><p>在Linux传统的Ext2&#x2F;Ext3&#x2F;Ext4文件系统下，我们还可以设置其他的系统隐藏属性， 这部份可使用 chattr 来设置，而以 lsattr 来查看，最重要的属性就是可以设置其不可修改的特性！让连文件的拥有者都不能进行修改！</p>
<h4 id="7-4-1-文件默认权限：umask"><a href="#7-4-1-文件默认权限：umask" class="headerlink" title="7.4.1 文件默认权限：umask"></a>7.4.1 文件默认权限：umask</h4><p><code>umask</code>命令会返回一组数字体态的权限设置分数，如 0022，第 1 个 0 用于特殊权限，后面  3 个数字分别分配给 user,group,others。该数字代表默认权限值需要减去的权限，其中：</p>
<ul>
<li>文件的默认权限值：666，即 -rw-rw-rw-</li>
<li>目录的默认权限值：777，即 drwxrwxrwx</li>
</ul>
<p>因此 umask 022 代表：</p>
<ul>
<li>文件权限为：-rw-r–r–</li>
<li>目录权限为：drwxr-xr-x</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接显示出当前权限等级</span></span><br><span class="line"><span class="built_in">umask</span> -S</span><br></pre></td></tr></table></figure>

<h4 id="7-4-2-文件隐藏属性"><a href="#7-4-2-文件隐藏属性" class="headerlink" title="7.4.2 文件隐藏属性"></a>7.4.2 文件隐藏属性</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">chattr [+-=] [ASacdistu]</span><br><span class="line"><span class="comment"># 当设置 a 之后，这个文件将只能增加数据，而不能删除也不能修改数据，只有root 才能设置这个属性（可以复制）</span></span><br><span class="line"><span class="comment"># 当设置 i 之后，可以让一个文件不能被删除、改名、设置链接，也无法写入或新增数据（可以复制）</span></span><br><span class="line"><span class="comment"># s，文件被删除时，永久从硬盘抹除</span></span><br><span class="line"><span class="comment"># u, 文件被删除时，数据内容还存在磁盘中，可以被救援</span></span><br><span class="line"></span><br><span class="line">lsattr [-adR] 文件或目录</span><br><span class="line"><span class="comment"># -a ：将隐藏文件的属性也显示出来</span></span><br><span class="line"><span class="comment"># -d ：如果接的是目录，仅列出目录本身的属性而非目录内的文件名；</span></span><br><span class="line"><span class="comment"># -R ：连同子目录的数据也一并列出来！</span></span><br></pre></td></tr></table></figure>

<h4 id="7-4-3-文件特殊权限-SUID-SGID-SBIT"><a href="#7-4-3-文件特殊权限-SUID-SGID-SBIT" class="headerlink" title="7.4.3 文件特殊权限:SUID,SGID,SBIT"></a>7.4.3 文件特殊权限:SUID,SGID,SBIT</h4><p><strong>SUID 即 Set UID（U代表User）</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /usr/bin/passwd</span><br><span class="line"><span class="comment"># -rwsr-xr-x</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>SUID 权限仅对二进制程序（binary program）有效（<u>对目录无效</u>）；</p>
</li>
<li><p>执行者对于该程序需要具有 x 的可执行权限；</p>
</li>
<li><p>本权限仅在执行该程序的过程中有效（run-time）；</p>
</li>
<li><p>执行者将具有该程序拥有者 （owner） 的权限。</p>
</li>
</ul>
<p>例如对于 &#x2F;etc&#x2F;shadow 文件，其权限为 ———-，理论上普通用户不同修改以及阅读里面的内容，但是普通用户可以修改自己的账号所储存在里面的密码。修改密码过程如下：</p>
<ol>
<li><p>普通用户对于 &#x2F;usr&#x2F;bin&#x2F;passwd 这个程序来说具有 x 权限，表示用户能执行 passwd；</p>
</li>
<li><p>passwd 的拥有者是 root 这个帐号；</p>
</li>
<li><p>用户执行 passwd 二进制程序的过程中，会”暂时“获得 root 的权限；</p>
</li>
<li><p>&#x2F;etc&#x2F;shadow 就可以被用户所执行的 passwd 所修改。</p>
</li>
</ol>
<p><strong>SGID 即 Set GID（G代表Group）</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ll /usr/bin/plocate</span><br><span class="line"><span class="comment"># -rwxr-sr-x</span></span><br></pre></td></tr></table></figure>

<p><u>对于文件来说</u>：</p>
<ul>
<li>SGID 对二进制程序有用；</li>
<li>程序执行者对于该程序来说，需具备 x 的权限；</li>
<li>执行者在执行的过程中将会获得该程序群组的支持！</li>
</ul>
<p>例如，用户可以获得 plocate 群组的支持，以访问  &#x2F;var&#x2F;lib&#x2F;plocate&#x2F;plocate.db</p>
<p><u>对于目录来说</u>：</p>
<ul>
<li><p>使用者若对于此目录具有 r 与 x 的权限时，该使用者能够进入此目录；</p>
</li>
<li><p>使用者在此目录下的有效群组（effective group）将会变成该目录的群组；</p>
</li>
<li><p>用途：若使用者在此目录下具有 w 的权限（可以新建文件），则使用者所创建的新文件，该新文件的群组与此目录的群组相同。</p>
</li>
</ul>
<p><strong>SBIT 即 Sticky Bit</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ll -d /tmp</span><br><span class="line"><span class="comment"># drwxrwxrwt</span></span><br></pre></td></tr></table></figure>

<p>现在已<u>仅对目录有效</u></p>
<ul>
<li><p>当使用者对于此目录具有 w, x 权限，亦即具有写入的权限时；</p>
</li>
<li><p>当使用者在该目录下创建文件或目录时，仅有自己与 root 才有权力删除该文件</p>
</li>
</ul>
<p>&#x3D;&#x3D;SUID&#x2F;SGID&#x2F;SBIT 权限设置&#x3D;&#x3D;</p>
<p><strong>数字法</strong></p>
<p>SUID(4)、SGID(2)、SBIT(1)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加入 SUID</span></span><br><span class="line"><span class="built_in">chmod</span> 4755 file </span><br><span class="line"><span class="comment"># 加入 SUID/SGID</span></span><br><span class="line"><span class="built_in">chmod</span> 6755 file</span><br><span class="line"><span class="comment"># 加入 SBIT</span></span><br><span class="line"><span class="built_in">chmod</span> 1755</span><br></pre></td></tr></table></figure>

<p>特殊情况如下。因为 SUID 等权限需要拥有者具有 x 权限，但是下例的拥有者无 x 权限，导致更改权限后的文件只有空的 SUID&#x2F;SGID&#x2F;SBIT 权限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 7666 file</span><br><span class="line">// -rwSrwSrwT</span><br></pre></td></tr></table></figure>

<p><strong>符号法</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> u=rwxs,go=x file</span><br><span class="line"><span class="built_in">chmod</span> g+s,o+t file</span><br></pre></td></tr></table></figure>

<h4 id="7-4-4-观察文件类型：file"><a href="#7-4-4-观察文件类型：file" class="headerlink" title="7.4.4 观察文件类型：file"></a>7.4.4 观察文件类型：file</h4><p>如果你想要知道某个文件的基本数据，例如是属于 ASCII 或者是 data 文件，或者是 binary ，且其中有没有使用到动态函数库 （share library） 等等的信息，就可以利用 file 这个指令来检阅。</p>
<p>file 指令还可以查看 tar 压缩包使用的是哪种压缩功能。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file /usr/bin/passwd</span><br><span class="line"><span class="comment"># /usr/bin/passwd: setuid ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=3491ccd9d01e39519fb586aa5be367b22d4cf6ef, for GNU/Linux 3.2.0, stripped</span></span><br><span class="line"><span class="comment"># 这个文件的 suid 权限、相容于 Intel x86-64 等级的硬件平台，使用的是 Linux 核心 2.6.32 的动态函数库链接</span></span><br></pre></td></tr></table></figure>

<h3 id="7-5-指令与文件的搜寻"><a href="#7-5-指令与文件的搜寻" class="headerlink" title="7.5 指令与文件的搜寻"></a>7.5 指令与文件的搜寻</h3><h4 id="7-5-1-指令文件名的搜寻"><a href="#7-5-1-指令文件名的搜寻" class="headerlink" title="7.5.1 指令文件名的搜寻"></a>7.5.1 指令文件名的搜寻</h4><p>&#x3D;&#x3D;which&#x2F;type(寻找可执行文件)&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找到 PATH 命令中的指令完整文件名，-a 列出 PATH 目录中所有该指令完整文件名</span></span><br><span class="line"><span class="built_in">which</span> [-a] <span class="built_in">command</span></span><br><span class="line"><span class="comment"># 有些指令不在 PATH 目录下，which 找不到，可以用 type 指令查找</span></span><br><span class="line"><span class="built_in">type</span> ll</span><br><span class="line"><span class="built_in">type</span> <span class="built_in">history</span> <span class="comment"># history 是 bash 内置指令，有 bash 就有 history</span></span><br></pre></td></tr></table></figure>

<h4 id="7-5-2-文件文件名的搜寻"><a href="#7-5-2-文件文件名的搜寻" class="headerlink" title="7.5.2 文件文件名的搜寻"></a>7.5.2 文件文件名的搜寻</h4><p>&#x3D;&#x3D;whereis(由一些特定的目录中寻找文件文件名)&#x3D;&#x3D;</p>
<p>whereis 不耗时，因为只找几个特定目录。<code>whereis -l</code>可列出其会查找的文件目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">whereis [-bmsu] 文件或目录名</span><br><span class="line">-b 只找 binary 格式的文件</span><br><span class="line">-m 只找在说明文档 manual 路径下的文件</span><br><span class="line">-s 只找 <span class="built_in">source</span> 来源文件</span><br><span class="line">-u 搜寻不在上述三个项目当中的其他特殊文件</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;plocate&#x2F;updatedb&#x3D;&#x3D;</p>
<p>plocate不耗时，依据 &#x2F;var&#x2F;lib&#x2F;plocate&#x2F;plocate.db 内的数据库记载，找出使用者输入的关键字文件名。<code>updatedb</code>指令更新数据库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 路径中存在 fastq 就输出</span></span><br><span class="line">plocate fastq</span><br><span class="line"><span class="comment"># 文件名含有 fastq 才输出</span></span><br><span class="line">plocate -b fastq</span><br><span class="line"><span class="comment"># 正则匹配搜寻</span></span><br><span class="line">plocate -b -r ^fastp$ fastp</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;find&#x3D;&#x3D;</p>
<p>find耗时，直接搜索硬盘内文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">find [PATH] [option] [action]</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">1. 与时间有关的选项：共有 -atime, -ctime 与 -mtime ，以 -mtime 说明</span><br><span class="line">-mtime n ：n 为数字，意义为在 n 天之前的“一天之内”被更动过内容的文件；</span><br><span class="line">-mtime +n ：列出在 n 天之前（不含 n 天本身）被更动过内容的文件文件名；</span><br><span class="line">-mtime -n ：列出在 n 天之内（含 n 天本身）被更动过内容的文件文件名。</span><br><span class="line">-newer file ：file 为一个存在的文件，列出比 file 还要新的文件文件名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 范例一：将过去系统上面 24 小时内有更动过内容 （mtime） 的文件列出</span></span><br><span class="line">find / -mtime 0 <span class="comment"># 那个 0 是重点！0 代表目前的时间，所以，从现在开始到 24 小时前，</span></span><br><span class="line"><span class="comment"># 范例二：寻找 /etc 下面的文件，如果文件日期比 /etc/passwd 新就列出</span></span><br><span class="line">find /etc -newer /etc/passwd</span><br></pre></td></tr></table></figure>

<img src="/2024/02/11/linux/image-20240213014759471.png" alt="image-20240213014759471" style="zoom:33%;">

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">2. 与使用者或群组名称有关的参数：</span><br><span class="line">-uid n ：n 为数字，这个数字是使用者的帐号 ID，亦即 UID ，这个 UID 是记录在</span><br><span class="line">/etc/passwd 里面与帐号名称对应的数字。这方面我们会在第四篇介绍。</span><br><span class="line">-gid n ：n 为数字，这个数字是群组名称的 ID，亦即 GID，这个 GID 记录在</span><br><span class="line">/etc/group，相关的介绍我们会第四篇说明～</span><br><span class="line">-user name ：name 为使用者帐号名称喔！例如 dmtsai</span><br><span class="line">-group name：name 为群组名称喔，例如 <span class="built_in">users</span> ；</span><br><span class="line">-nouser ：寻找文件的拥有者不存在 /etc/passwd 的人！</span><br><span class="line">-nogroup ：寻找文件的拥有群组不存在于 /etc/group 的文件！</span><br><span class="line"><span class="comment"># 当你自行安装软件时，很可能该软件的属性当中并没有文件拥有者，这是可能的！在这个时候，就可以使用 -nouser 与 -nogroup 搜寻。</span></span><br><span class="line"></span><br><span class="line">3. 与文件权限及名称有关的参数：</span><br><span class="line">-name filename：搜寻文件名称为 filename 的文件；</span><br><span class="line">-size [+-]SIZE：搜寻比 SIZE 还要大（+）或小（-）的文件。这个 SIZE 的规格有：c: 代表 Byte， k: 代表 1024Bytes。所以，要找比 50KB还要大的文件，就是“ -size +50k ”</span><br><span class="line">-<span class="built_in">type</span> TYPE ：搜寻文件的类型为 TYPE 的，类型主要有：一般正规文件 （f）, 设备文件 （b, c）, 目录 （d）, 链接文件 （l）, socket （s）, 及 FIFO （p） 等属性。</span><br><span class="line">-perm mode ：搜寻文件权限“刚好等于” mode 的文件，这个 mode 为类似 <span class="built_in">chmod</span> 的属性值，举例来说， -rwsr-xr-x 的属性为 4755 ！</span><br><span class="line">-perm -mode ：搜寻文件权限“必须要全部囊括 mode 的权限”的文件，举例来说，我们要搜寻 -rwxr--r-- ，亦即 0744 的文件，使用 -perm -0744，当一个文件的权限为 -rwsr-xr-x ，亦即 4755 时，也会被列出来，因为 -rwsr-xr-x 的属性已经囊括了 -rwxr--r-- 的属性了。</span><br><span class="line">-perm /mode ：搜寻文件权限“包含任一 mode 的权限”的文件，举例来说，我们搜寻-rwxr-xr-x ，亦即 -perm /755 时，但一个文件属性为 -rw------- 也会被列出来，因为他有 -rw.... 的属性存在！</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例如</span></span><br><span class="line">find /usr/bin /usr/sbin -perm /6000</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">4. 额外可进行的动作：</span><br><span class="line">-<span class="built_in">exec</span> <span class="built_in">command</span> ：<span class="built_in">command</span> 为其他指令，-<span class="built_in">exec</span> 后面可再接额外的指令来处理搜寻到的结果。</span><br><span class="line">-<span class="built_in">print</span> ：将结果打印到屏幕上，这个动作是默认动作！</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 靶 find 到的结果交给 -exec，后面接指令（不支持指令别名）搜到的结果放进&#123;&#125;中，;是-exec结束的标志，通过\转义</span></span><br><span class="line">find /usr/bin /usr/sbin -perm /6000 -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;</span><br><span class="line"><span class="comment"># 找出 /etc 下面，容量大于 1500K 以及容量等于 0 的文件</span></span><br><span class="line">find /etc \( -size +50k -o -size 0k \) -<span class="built_in">exec</span> <span class="built_in">ls</span> -lh &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<h2 id="8-Linux-磁盘与文件系统管理"><a href="#8-Linux-磁盘与文件系统管理" class="headerlink" title="8. Linux 磁盘与文件系统管理"></a>8. Linux 磁盘与文件系统管理</h2><h3 id="8-1-认识-linux-文件系统"><a href="#8-1-认识-linux-文件系统" class="headerlink" title="8.1 认识 linux 文件系统"></a>8.1 认识 linux 文件系统</h3><h4 id="8-1-1-文件系统特性"><a href="#8-1-1-文件系统特性" class="headerlink" title="8.1.1 文件系统特性"></a>8.1.1 文件系统特性</h4><p>磁盘分区完毕后还需要进行格式化（format）。因为每种操作系统所设置的文件属性&#x2F;权限并不相同， 为了存放这些文件所需的数据，因此就需要将分区进行格式化，以成为操作系统能够利用的“文件系统格式（filesystem）”。如 windows 98 以前的微软操作系统主要利用的文件系统是 FAT （或 FAT16），windows 2000 以后的版本有所谓的 NTFS 文件系统，至于 Linux 的正统文件系统则为 Ext2 （Linux second extended file system, ext2fs）</p>
<p>通常我们可以称呼<strong>一个可被挂载的数据为一个文件系统</strong>不是一个分区。</p>
<p>文件除了实际内容外还有文件权限文件属性等。文件系统通常会将这两部份的数据分别存放在不同的区块，权限与属性放置到 inode 中，至于实际数据则放置到 data block 区块中。 另外，还有一个超级区块 （superblock） 会记录整个文件系统的整体信息，包括 inode 与 block 的总量、使用量、剩余量等。</p>
<ul>
<li><p>superblock：记录此 filesystem 的整体信息，包括inode&#x2F;block的总量、使用量、剩余量， 以及文件系统的格式与相关信息等；</p>
</li>
<li><p>inode：记录文件的属性，一个文件占用一个inode，同时记录此文件的数据所在的 block 号码；</p>
</li>
<li><p>block：实际记录文件的内容，若文件太大时，会占用多个 block</p>
</li>
</ul>
<p><strong>索引式文件系统</strong>：每个 inode 与 block 都有编号，而每个文件都会占用一个 inode ，inode 内则有文件数据放置的 block 号码，根据 inode 号即可将对应的 block 内容读取出来。</p>
<blockquote>
<p>  文件系统格式化时就将 inode 与 block 规划好了</p>
</blockquote>
<h4 id="8-1-2-Linux-的-Ext2-文件系统（inode）"><a href="#8-1-2-Linux-的-Ext2-文件系统（inode）" class="headerlink" title="8.1.2 Linux 的 Ext2 文件系统（inode）"></a>8.1.2 Linux 的 Ext2 文件系统（inode）</h4><p>Ext2 文件系统在格式化的时候基本上是区分为多个区块群组 （block group） 的，每个区块群组都有独立的inode&#x2F;block&#x2F;superblock 系统。在整体的规划当中，文件系统最前面有一个开机扇区（boot sector），这个开机扇区可以安装开机管理程序</p>
<p><strong>区块群组内容</strong></p>
<ul>
<li><p>data block （数据区块）</p>
<p>在 Ext2 文件系统中所支持的 block 大小有 1K, 2K 及 4K 三种而已，分别可最大存放 16GB、256GB、2T 大小的单一文件。对于 Ext2 文件系统，原则上，block 的大小与数量在格式化完就不能够再改变了。且每个 block 内最多只能够放置一个文件的数据，因此需要合理设置 block 太小，block 太小大文件会占据过多 block，block 太大资源浪费。</p>
</li>
<li><p>inode table （inode 表格）</p>
<p>每个 inode 大小均固定为 128 Bytes （新的 ext4 与 xfs 可设置到 256 Bytes）；每个文件都仅会占用一个 inode 而已；系统读取文件时需要先找到 inode，并分析 inode 所记录的权限与使用者是否符合，若符合才能够开始实际读取 block 的内容。</p>
<ul>
<li>该文件的存取模式（read&#x2F;write&#x2F;excute）；</li>
<li>该文件的拥有者与群组（owner&#x2F;group）；</li>
<li>该文件的容量；</li>
<li>该文件创建或状态改变的时间（ctime）；最近一次的读取时间（atime）；最近修改的时间（mtime）；</li>
<li>定义文件特性的旗标（flag），如 SetUID…；</li>
<li>该文件真正内容的指向 （pointer）；</li>
</ul>
</li>
<li><p>Superblock （超级区块）</p>
<ul>
<li><p>block 与 inode 的总量；</p>
</li>
<li><p>未使用与已使用的 inode &#x2F; block 数量；</p>
</li>
<li><p>block 与 inode 的大小 （block 为 1, 2, 4K，inode 为 128Bytes 或 256Bytes）；</p>
</li>
<li><p>filesystem 的挂载时间、最近一次写入数据的时间、最近一次检验磁盘 （fsck） 的时间等文件系统的相关信息；</p>
</li>
<li><p>一个 valid bit 数值，若此文件系统已被挂载，则 valid bit 为 0 ，若未被挂载，则 valid bit 为 1 。</p>
</li>
</ul>
</li>
<li><p>Filesystem Description （文件系统描述说明）</p>
<p>这个区段可以描述每个 block group 的开始与结束的 block 号码，以及说明每个区段 （superblock, bitmap, inodemap, data block） 分别介于哪一个 block 号码之间。这部份也能够用 dumpe2fs 来观察的。</p>
</li>
<li><p>block bitmap （区块对照表）</p>
<p>知道哪个 block 是空的。删除某些文件时，那么那些文件原本占用的 block 号码就得要释放出来， 此时在 block bitmap 当中相对应到该 block 号码的标志就得要修改成为“未使用中。</p>
</li>
<li><p>inode bitmap （inode 对照表）</p>
<p>记录空的 inode</p>
</li>
<li><p><code>dumpe2fs</code>： 查询 Ext 家族 superblock 信息的指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dumpe2fs [-bh] 设备文件名</span><br><span class="line">选项与参数：</span><br><span class="line">-b ：列出保留为坏轨的部分（一般用不到吧！？）</span><br><span class="line">-h ：仅列出 superblock 的数据，不会列出其他的区段内容！</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 叫出目前系统有被格式化的设备</span></span><br><span class="line">blkid</span><br><span class="line"><span class="comment"># 查询 superblock</span></span><br><span class="line">dumpe2fs -h /dev/sda3</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="8-1-3-与目录树的关系"><a href="#8-1-3-与目录树的关系" class="headerlink" title="8.1.3 与目录树的关系"></a>8.1.3 与目录树的关系</h4><p><strong>目录</strong></p>
<p>当我们在 Linux 下的文件系统创建一个目录时，文件系统会分配一个 inode 与至少一块 block 给该目录。其中，inode 记录该目录的相关权限与属性，并可记录分配到的那块 block 号码； 而 block 则是记录在这个目录下的文件名与该文件名占用的 inode 号码数据。</p>
<p><strong>文件</strong></p>
<p>当我们在 Linux 下的 ext2 创建一个一般文件时， ext2 会分配一个 inode 与相对于该文件大小的 block 数量给该文件。例如：假设我的一个 block 为 4 KBytes ，而我要创建一个 100 KBytes 的文件，那么 linux 将分配一个 inode 与 25 个 block 来储存该文件！ 但同时请注意，由于 inode 仅有 12 个直接指向（因为 inode 大小不足以储存所有 block 信息，因此需要指定 1 个 block 来记录下一个其它 block，即间接指向、双间接、三间接等），因此还要多一个 block 来作为区块号码的记录。</p>
<p><strong>目录树读取</strong></p>
<p>由于目录树是由根目录开始读起，因此系统通过挂载的信息可以找到挂载点的 inode 号码，此时就能够得到根目录的 inode 内容，并依据该 inode 读取根目录的 block 内的文件名数据，再一层一层的往下读到正确的文件名。（读取 inode 后会看一下使用者是否有读取对应 block 内容的权限，否则是成功读取的）。</p>
<p><strong>filesystem大小与磁盘读取性能</strong></p>
<p>分区的规划并不是越大越好，当一个文件分别记录在这个文件系统的最前面与最后面的 block 号码中， 此时会造成磁盘的机械手臂移动幅度过大，也会造成数据读取性能的低落。</p>
<p>整个文件系统上面的文件通常无法连续写在一起（block 号码不会连续的意思），而是填入式的将数据填入没有被使用的 block 当中。当数据过于离散造成磁盘读取性能低下时，那么可以将整个filesystme 内的数据全部复制出来，将该 filesystem 重新格式化，再将数据给他复制回去即可解决这个问题。</p>
<h4 id="8-1-4-Ext2-Ext3-Ext4-文件的存取与日志式文件系统的功能"><a href="#8-1-4-Ext2-Ext3-Ext4-文件的存取与日志式文件系统的功能" class="headerlink" title="8.1.4 Ext2&#x2F;Ext3&#x2F;Ext4 文件的存取与日志式文件系统的功能"></a>8.1.4 Ext2&#x2F;Ext3&#x2F;Ext4 文件的存取与日志式文件系统的功能</h4><p>新增文件或目录文件系统处理步骤：</p>
<ol>
<li><p>先确定使用者对于欲新增文件的目录是否具有 w 与 x 的权限，若有的话才能新增；</p>
</li>
<li><p>根据 inode bitmap 找到没有使用的 inode 号码，并将新文件的权限&#x2F;属性写入；</p>
</li>
<li><p>根据 block bitmap 找到没有使用中的 block 号码，并将实际的数据写入 block 中，且更新 inode 的 block 指向数据；</p>
</li>
<li><p>将刚刚写入的 inode 与 block 数据同步更新 inode bitmap 与 block bitmap，并更新 superblock 的内容。</p>
</li>
</ol>
<p>有时候可能遇见数据不一致的情况，如数据被存进去了，但是由于系统断电等原因导致 superblock 内容未更新。因此系统需要进行数据一致性检查，一般进行检查需要比对 metadata（superblock,inode bitmap,block bitmap） 与实际数据存放区，这样非常麻烦，因此出现了日志式文件系统。</p>
<p><strong>日志式文件系统基础功能：</strong></p>
<ol>
<li><p>预备：当系统要写入一个文件时，会先在日志记录区块中纪录某个文件准备要写入的信息；</p>
</li>
<li><p>实际写入：开始写入文件的权限与数据；开始更新 metadata 的数据；</p>
</li>
<li><p>结束：完成数据与 metadata 的更新后，在日志记录区块当中完成该文件的纪录。</p>
</li>
</ol>
<h4 id="8-1-6-Linux-文件系统的运行"><a href="#8-1-6-Linux-文件系统的运行" class="headerlink" title="8.1.6 Linux 文件系统的运行"></a>8.1.6 Linux 文件系统的运行</h4><p>所有的数据都得要载入到内存后 CPU 才能够对该数据进行处理。但是当编辑大文件时，会面临系统频繁将数据写入磁盘的问题，会浪费时间在数据写入&#x2F;读取上。因此 Linux 通过非同步处理（asynchronously）的方式解决该种效率问题。</p>
<ul>
<li>当系统载入一个文件到内存后，如果该文件没有被更动过，则在内存区段的文件数据会被设置为干净（clean）的。 但如果内存中的文件数据被更改过了（例如你用 nano 去编辑过这个文件），此时该内存中的数据会被设置为脏的 （Dirty）。此时所有的动作都还在内存中执行，并没有写入到磁盘中！ 系统会不定时的将内存中设置为“Dirty”的数据写回磁盘，以保持磁盘与内存数据的一致性。 你也可以利用第四章谈到的 sync指令来手动强迫写入磁盘。</li>
</ul>
<h4 id="8-1-7-挂载点的意义-mount-point"><a href="#8-1-7-挂载点的意义-mount-point" class="headerlink" title="8.1.7 挂载点的意义(mount point)"></a>8.1.7 挂载点的意义(mount point)</h4><p>每个 filesystem 都有独立的 inode &#x2F; block &#x2F; superblock 等信息，这个文件系统要能够链接到目录树才能被我们使用。 将文件系统与目录树结合的动作我们称为“挂载”。</p>
<blockquote>
<p>  重点是：挂载点一定是目录，该目录为进入该文件系统的入口。 因此并不是你有任何文件系统都能使用，必须要“挂载”到目录树的某个目录后，才能够使用该文件系统的。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对于鸟哥的方法安装的 CentOS7.x，下面三个目录的 inode 号是一样的，因为使用了不同的文件系统</span></span><br><span class="line"><span class="built_in">ls</span> -lid / /boot /home</span><br></pre></td></tr></table></figure>

<h4 id="8-1-8-其他-Linux-支持的文件系统与-VFS"><a href="#8-1-8-其他-Linux-支持的文件系统与-VFS" class="headerlink" title="8.1.8 其他 Linux 支持的文件系统与 VFS"></a>8.1.8 其他 Linux 支持的文件系统与 VFS</h4><p>Linux 常见的支持文件系统有：</p>
<ul>
<li><p>传统文件系统：ext2 &#x2F; minix &#x2F; MS-DOS &#x2F; FAT （用 vfat 模块）&#x2F; iso9660 （光盘）等等；</p>
</li>
<li><p>日志式文件系统： ext3 &#x2F;ext4 &#x2F; ReiserFS &#x2F; Windows’ NTFS &#x2F; IBM’s JFS &#x2F; SGI’s XFS &#x2F; ZFS</p>
</li>
<li><p>网络文件系统： NFS &#x2F; SMBFS</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看你的 linux 支持的文件系统</span></span><br><span class="line"><span class="built_in">ls</span> -l /lib/modules/$(<span class="built_in">uname</span> -r)/kernel/fs</span><br><span class="line"><span class="comment"># 系统目前已载入到内存中支持的文件系统</span></span><br><span class="line"><span class="built_in">cat</span> proc/filesystems</span><br></pre></td></tr></table></figure>

<p>那么 Linux 的核心又是如何管理这些认识的文件系统呢？整个 Linux 的系统都是通过一个名为 VFS(Virtual Filesystem Switch)的核心功能去读取filesystem 的。</p>
<h4 id="8-1-9-XFS-文件系统简介"><a href="#8-1-9-XFS-文件系统简介" class="headerlink" title="8.1.9 XFS 文件系统简介"></a>8.1.9 XFS 文件系统简介</h4><p>EXT 家族伤脑筋的地方：支持度最广，格式化超慢（磁盘容量超级大的时候格式化很耗时）。XFS 是较适合大容量磁盘与巨型文件性能较佳的文件系统。</p>
<p>xfs 是一个日志式文件系统。在数据的分佈上，主要规划为三个部份，一个数据区（data section）、一个文件系统活动登录区 （log section）以及一个实时运行区 （realtime section）</p>
<ul>
<li>数据区 （data section）：与 ext 家族的 block group 类似。</li>
<li>文件系统活动登录区 （log section）：类似于日志区</li>
<li>实时运行区 （realtime section）：当有文件要被创建时，xfs 会在这个区段里面找一个到数个的 extent 区块，将文件放置在这个区块内，等到分配完毕后，再写入到 data section 的 inode 与 block 去！</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># XFS 文件系统的描述数据观察</span></span><br><span class="line">xfs_info 挂载点|设备文件名</span><br><span class="line"></span><br><span class="line">范例一：找出系统 /boot 这个挂载点下面的文件系统的 superblock 纪录</span><br><span class="line"><span class="built_in">df</span> -T /boot</span><br><span class="line">xfs_info /dev/vda2 </span><br></pre></td></tr></table></figure>

<h3 id="8-2-文件系统的简单操作"><a href="#8-2-文件系统的简单操作" class="headerlink" title="8.2 文件系统的简单操作"></a>8.2 文件系统的简单操作</h3><h4 id="8-2-1-磁盘与目录的容量"><a href="#8-2-1-磁盘与目录的容量" class="headerlink" title="8.2.1 磁盘与目录的容量"></a>8.2.1 磁盘与目录的容量</h4><ul>
<li><p>df：列出文件系统的整体磁盘使用量；</p>
</li>
<li><p>du：评估文件系统的磁盘使用量（常用在推估目录所占容量）</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> [-ahikHTm] [目录或文件名]</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-a ：列出所有的文件系统，包括系统特有的 /proc 等文件系统；</span><br><span class="line">-h ：以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；</span><br><span class="line">-T ：连同该 partition 的 filesystem 名称 （例如 xfs） 也列出；</span><br><span class="line">-i ：不用磁盘容量，而以 inode 的数量来显示</span><br><span class="line">-k ：以 KBytes 的容量显示各文件系统；</span><br><span class="line">-m ：以 MBytes 的容量显示各文件系统；</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 Linux 下面如果 df 没有加任何选项，那么默认会将系统内所有的（不含特殊内存内的文件系统与 swap） 都以 1 KBytes 的容量来列出来！</span></span><br><span class="line"><span class="comment"># 至于那个 /dev/shm 是与内存有关的挂载，先不要理他！是利用内存虚拟出来的磁盘空间，通常是总实体内存的一半</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>Filesystem：代表该文件系统是在哪个 partition ，所以列出设备名称；</p>
</li>
<li><p>1k-blocks：说明下面的数字单位是 1KB 呦！可利用 -h 或 -m 来改变容量</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> [-ahskm] 文件或目录名称</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-s ：列出总量而已，而不列出每个各别的目录占用容量；</span><br><span class="line">-a ：列出所有的文件与目录容量，因为默认仅统计目录下面的文件量而已。</span><br><span class="line">-h ：以人们较易读的容量格式 （G/M） 显示；</span><br><span class="line">-S ：不包括子目录下的总计，与 -s 有点差别。不加 -s 默认将所有次目录的数据量都统计一遍</span><br><span class="line">-k ：以 KBytes 列出容量显示；</span><br><span class="line">-m ：以 MBytes 列出容量显示</span><br></pre></td></tr></table></figure>

<h4 id="8-2-2-实体链接与符号链接-ln"><a href="#8-2-2-实体链接与符号链接-ln" class="headerlink" title="8.2.2 实体链接与符号链接:ln"></a>8.2.2 实体链接与符号链接:ln</h4><p>&#x3D;&#x3D;硬链接( hard link)&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> [-sf] 来源文件 目标文件</span><br><span class="line"><span class="comment"># -f 目标文件存在就将其移除后再创建链接</span></span><br></pre></td></tr></table></figure>

<p>文件名记录在目录的 block 中，而 inode 记录在文件中，因此可以通过在某个目录的 block 中新增 1 个指向某文件 inode 的文件名，也就是创建硬链接(hard link)。因此，当某个文件存在多个指向该文件 inode 号的文件名时，仅删除其中某个文件并不能彻底删除该文件而需要删除所有指向该文件 inode 号的文件名才行。</p>
<p>硬链接特点：</p>
<ul>
<li>保证数据安全性</li>
<li>不能跨文件系统</li>
<li>不能 link 目录</li>
</ul>
<p>&#x3D;&#x3D;软连接（Symbolic link）&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> [-sf] 来源文件 目标文件</span><br><span class="line"><span class="comment"># -f 目标文件存在就将其移除后再创建链接</span></span><br></pre></td></tr></table></figure>

<p>软链接创建了 1 个独立的文件，这个文件记录了指向被链接文件的文件名，因此只是利用该文件做为指向的动作。删除源文件后，该文件将无法打开。</p>
<p>软链接文件大小的含义：被指向的文件名占据几个英文字符，该软链接文件的大小就为几Byte，因为1个英文字符占1Byte。</p>
<ul>
<li>软链接可以跨文件系统，可以 linK 目录，用途广泛</li>
</ul>
<blockquote>
<p>  无论编辑硬链接还是软链接，实际上都是在编辑源文件。</p>
</blockquote>
<p><strong>关于目录的 link 数量</strong></p>
<p>每当我们创建 1 个新目录，实际上该文件至少会有 1 个 . 与 .. ，也就是新目录链接数 +1，上层目录链接数 +1。</p>
<h3 id="8-3-磁盘的分区、格式化、检验与挂载"><a href="#8-3-磁盘的分区、格式化、检验与挂载" class="headerlink" title="8.3 磁盘的分区、格式化、检验与挂载"></a>8.3 磁盘的分区、格式化、检验与挂载</h3><p>对于新的磁盘，往往需要进行如下操作：</p>
<ol>
<li><p>对磁盘进行分区，以创建可用的 partition ；</p>
</li>
<li><p>对该 partition 进行格式化 （format），以创建系统可用的 filesystem；</p>
</li>
<li><p>若想要仔细一点，则可对刚刚创建好的 filesystem 进行检验；</p>
</li>
<li><p>在 Linux 系统上，需要创建挂载点 （亦即是目录），并将文件系统挂载上来；</p>
</li>
</ol>
<h4 id="8-3-1-观察磁盘分区状态"><a href="#8-3-1-观察磁盘分区状态" class="headerlink" title="8.3.1 观察磁盘分区状态"></a>8.3.1 观察磁盘分区状态</h4><p><strong>lsblk 列出系统上的所有磁盘列表</strong></p>
<p>list block device</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">lsblk [-dfimpt] [device]</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-d ：仅列出磁盘本身，并不会列出该磁盘的分区数据</span><br><span class="line">-f ：同时列出该磁盘内的文件系统名称</span><br><span class="line">-i ：使用 ASCII 的线段输出，不要使用复杂的编码 （再某些环境下很有用）</span><br><span class="line">-m ：同时输出该设备在 /dev 下面的权限数据 （rwx 的数据）</span><br><span class="line">-p ：列出该设备的完整文件名！而不是仅列出最后的名字而已。</span><br><span class="line">-t ：列出该磁盘设备的详细数据，包括磁盘伫列机制、预读写的数据量大小等</span><br></pre></td></tr></table></figure>

<ul>
<li><p>NAME：就是设备的文件名啰！会省略 &#x2F;dev 等前导目录！</p>
</li>
<li><p>MAJ:MIN：其实核心认识的设备都是通过这两个代码来熟悉的！分别是主要：次要设备代码！</p>
</li>
<li><p>RM：是否为可卸载设备 （removable device），如光盘、USB 磁盘等等</p>
</li>
<li><p>SIZE：当然就是容量啰！</p>
</li>
<li><p>RO：是否为只读设备的意思</p>
</li>
<li><p>TYPE：是磁盘 （disk）、分区 （partition） 还是只读存储器（rom） 等输出</p>
</li>
<li><p>MOUTPOINT：就是前一章谈到的挂载点</p>
</li>
</ul>
<p><strong>blkid 列出设备的 UUID 等参数</strong></p>
<p>blkid 找出设备 UUID。UUID 是全域单一识别码 （universally unique identifier），Linux 会将系统内所有的设备都给予一个独一无二的识别码， 这个识别码就可以拿来作为挂载或者是使用这个设备&#x2F;文件系统之用。</p>
<p><strong>parted 列出磁盘的分区表信息与分区类型</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parted /dev/sda <span class="built_in">print</span></span><br></pre></td></tr></table></figure>

<h4 id="8-3-2-磁盘分区：gdisk-fdisk"><a href="#8-3-2-磁盘分区：gdisk-fdisk" class="headerlink" title="8.3.2 磁盘分区：gdisk&#x2F;fdisk"></a>8.3.2 磁盘分区：gdisk&#x2F;fdisk</h4><p>gdisk 用于 GPT 分区表，fdisk 用于 MBR 分区表。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gdisk 设备分区</span><br><span class="line"></span><br><span class="line"><span class="comment"># 选项与参数： 按？即可显示用法</span></span><br><span class="line">p 打印出分区表</span><br><span class="line">d 删除 1 个分区</span><br><span class="line">n 新增 1 个分区</span><br><span class="line">p 退出不保存</span><br><span class="line">w 退出保存</span><br></pre></td></tr></table></figure>

<p><strong>p 显示的信息</strong></p>
<ul>
<li>Number：分区编号，1 号指的是 &#x2F;dev&#x2F;vda1 这样计算。</li>
<li>Start （sector）：每一个分区的开始扇区号码位置</li>
<li>End （sector）：每一个分区的结束扇区号码位置，与 start 之间可以算出分区的总容量</li>
<li>Size：就是分区的容量了</li>
<li>Code：在分区内的可能的文件系统类型。Linux 为 8300，swap 为 8200。不过这个项目只是一个提示而已，不见得真的代表此分区内的文件系统喔！</li>
<li>Name：文件系统的名称等等。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gdisk 新增分区</span></span><br><span class="line">Command （? <span class="keyword">for</span> <span class="built_in">help</span>）: n <span class="comment"># 就是这个！所以开始新增的行为！</span></span><br><span class="line">Partition number （4-128, default 4）: 4 <span class="comment"># 默认就是 4 号，所以也能 enter 即可！</span></span><br><span class="line">First sector （34-83886046, default = 65026048） or &#123;+-&#125;size&#123;KMGTP&#125;: 65026048 <span class="comment"># 也能 enter</span></span><br><span class="line">Last sector （65026048-83886046, default = 83886046） or &#123;+-&#125;size&#123;KMGTP&#125;: +1G <span class="comment"># 决不要 enter</span></span><br><span class="line">Current <span class="built_in">type</span> is <span class="string">&#x27;Linux filesystem&#x27;</span></span><br><span class="line">Hex code or GUID （L to show codes, Enter = 8300）: <span class="comment"># 使用默认值即可～直接enter 下去！</span></span><br><span class="line"><span class="comment"># 这里在让你选择未来这个分区预计使用的文件系统！默认都是 Linux 文件系统的 8300 啰！一般来说， Linux 大概都是 8200/8300/8e00 等三种格式， Windows 几乎都用 0700 这样，如果忘记这些数字，可以在 gdisk 内按下：“ L ”来显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按 w 新增后，可以看一下有没有成功新增</span></span><br><span class="line"><span class="built_in">cat</span> /proc/partitions</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 更新 linux 核心的分区表信息 </span></span><br><span class="line">partprobe -s</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看实际的磁盘分区状态</span></span><br><span class="line">lsblk /dev/sda</span><br><span class="line"><span class="comment"># 查看核心的分区记录，确保核心已经抓到分区参数</span></span><br><span class="line"><span class="built_in">cat</span> /proc/partitions</span><br><span class="line"></span><br><span class="line"><span class="comment">#gdisk 删除分区</span></span><br><span class="line">Command （? <span class="keyword">for</span> <span class="built_in">help</span>）: d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查是否删除成功</span></span><br><span class="line">lsblk</span><br><span class="line">partprobe -s</span><br><span class="line">lsblk</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  万分注意！不要去处理一个正在使用中的分区！例如，我们的系统现在已经使用了 &#x2F;dev&#x2F;vda2 ，那如果你要删除 &#x2F;dev&#x2F;vda2 的话， 必须要先将&#x2F;dev&#x2F;vda2 卸载。</p>
</blockquote>
<p>&#x3D;&#x3D;fdisk分区&#x3D;&#x3D;</p>
<p>与 gdisk 方法一致，？变成 m， 此外，fdisk 有时会使用柱面 （cylinder） 作为分区的最小单位，与 gdisk 默认使用sector 不太一样！大致上只是这点差别！ 另外， MBR 分区是有限制的（Primary, Extended, Logical…）</p>
<h4 id="8-3-3-磁盘格式化（创建文件系统）"><a href="#8-3-3-磁盘格式化（创建文件系统）" class="headerlink" title="8.3.3 磁盘格式化（创建文件系统）"></a>8.3.3 磁盘格式化（创建文件系统）</h4><p>mkfs（make filesystem）指令是个综合的指令，他会去调用正确的文件系统格式化工具软件。我们常听到的“格式化”其实应该称为“创建文件系统 （make filesystem）”才对。</p>
<p>&#x3D;&#x3D;XFS 文件系统 mkfs.xfs&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mkfs.xfs [-b bsize] [-d parms] [-i parms] [-l parms] [-L label] [-f] [-r parms] 设备名称</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">关於单位：下面只要谈到“数值”时，没有加单位则为 Bytes 值，可以用 k,m,g,t,p （小写）等来解释。比较特殊的是 s 这个单位，它指的是 sector 的“个数”喔！</span><br><span class="line">-b ：后面接的是 block 容量，可由 512 到 64k，不过最大容量限制为 Linux 的 4k </span><br><span class="line">-d ：后面接的是重要的 data section 的相关参数值，主要的值有：</span><br><span class="line">    agcount=数值 ：设置需要几个储存群组的意思（AG），通常与 CPU 有关</span><br><span class="line">    agsize=数值 ：每个 AG 设置为多少容量的意思，通常agcount/agsize 只选一个设置即可</span><br><span class="line">    file ：指的是“格式化的设备是个文件而不是个设备”的意思！（例如虚拟磁盘）</span><br><span class="line">    size=数值 ：data section 的容量，亦即你可以不将全部的设备容量用完的意思</span><br><span class="line">    su=数值 ：当有 RAID 时，那个 stripe 数值的意思，与下面的sw 搭配使用</span><br><span class="line">    sw=数值 ：当有 RAID 时，用于储存数据的磁盘数量（须扣除备份碟与备用碟）</span><br><span class="line">    sunit=数值 ：与 su 相当，不过单位使用的是“几个 sector（512Bytes大小）”的意思</span><br><span class="line">    swidth=数值 ：就是 su*sw 的数值，但是以“几个 sector（512Bytes大小）”来设置</span><br><span class="line">-f ：如果设备内已经有文件系统，则需要使用这个 -f 来强制格式化才行！</span><br><span class="line">-i ：与 inode 有较相关的设置，主要的设置值有：</span><br><span class="line">    size=数值 ：最小是 256Bytes 最大是 2k，一般保留 256 就足够使用了！</span><br><span class="line">    internal=[0|1]：<span class="built_in">log</span> 设备是否为内置？默认为 1 内置，如果要用外部设备，使用下面设置</span><br><span class="line">    logdev=device ：<span class="built_in">log</span> 设备为后面接的那个设备上头的意思，需设置 internal=0 才可！</span><br><span class="line">    size=数值 ：指定这块登录区的容量，通常最小得要有 512 个 block，大约 2M 以上才行！</span><br><span class="line">-L ：后面接这个文件系统的标头名称 Label name 的意思！</span><br><span class="line">-r ：指定 realtime section 的相关设置值，常见的有：</span><br><span class="line">    extsize=数值 ：就是那个重要的 extent 数值，一般不须设置，但有 RAID 时，最好设置与 swidth 的数值相同较佳！最小为 4K 最大为 1G 。</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例</span></span><br><span class="line"><span class="comment">#先查看 CPU 数量,加入有 2 个</span></span><br><span class="line">grep <span class="string">&#x27;processor&#x27;</span> /proc/cpuinfo</span><br><span class="line"><span class="comment">#格式化</span></span><br><span class="line">mkfs.xfs -f -d agcount=2 /dev/vda4</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;XFS 文件系统 for RAID 性能优化 （Optional）&#x3D;&#x3D;</p>
<p>磁盘阵列（RAID）就是通过将文件先细分为数个小型的分区区块 （stripe） 之后，然后将众多的 stripes 分别放到磁盘阵列里面的所有磁盘， 所以一个文件是被同时写入到多个磁盘去，当然性能会好一些。</p>
<p>&#x3D;&#x3D;ext4文件系统 mkfs.ext4&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4 [-b size] [-L label] 设备名称</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-b ：设置 block 的大小，有 1K, 2K, 4K 的容量，</span><br><span class="line">-L ：后面接这个设备的标头名称。</span><br></pre></td></tr></table></figure>

<p>因为 ext4 的默认值已经相当适合我们系统使用，大部分的默认值写入于我们系统的 &#x2F;etc&#x2F;mke2fs.conf 这个文件中，有兴趣可以自行前往查阅。</p>
<h4 id="8-3-4-文件系统检验"><a href="#8-3-4-文件系统检验" class="headerlink" title="8.3.4 文件系统检验"></a>8.3.4 文件系统检验</h4><p>&#x3D;&#x3D;xfs_repair 处理 XFS 文件系统&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xfs_repair [-fnd] 设备名称</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-f ：后面的设备其实是个文件而不是实体设备</span><br><span class="line">-n ：单纯检查并不修改文件系统的任何数据 （检查而已）</span><br><span class="line">-d ：通常用在单人维护模式下面，针对根目录 （/） 进行检查与修复的动作！很危险！不要随便使用</span><br></pre></td></tr></table></figure>

<p>修复时该文件系统不能被挂载！如果已经被挂载需要卸载。根目录不能被卸载，如果根目录有问题需要进入单人维护或救援模式。</p>
<p>&#x3D;&#x3D;fsck.ext4 处理 Ext4文件系统&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fsck.ext4 [-pf] [-b superblock] 设备名称</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-p ：当文件系统在修复时，若有需要回复 y 的动作时，自动回复 y 来继续进行修复动作。</span><br><span class="line">-f ：强制检查！一般来说，如果 fsck 没有发现任何 unclean 的旗标，不会主动进入细部检查的，如果您想要强制 fsck 进入细部检查，就得加上 -f 旗标啰！</span><br><span class="line">-D ：针对文件系统下的目录进行最优化配置。</span><br><span class="line">-b ：后面接 superblock 的位置！一般来说这个选项用不到。但是如果你的 superblock 因故损毁时，通过这个参数即可利用文件系统内备份的 superblock 来尝试救援。一般来说，superblock 备份在：</span><br><span class="line">     1K block 放在 8193, 2K block 放在 16384, 4K block 放在 32768</span><br></pre></td></tr></table></figure>

<p>通常只有身为 root 且你的文件系统有问题的时候才使用这个指令，否则在正常状况下使用此一指令， 可能会造成对系统的危害！</p>
<blockquote>
<p>   被检查的 partition 务必不可挂载到系统上</p>
</blockquote>
<h4 id="8-3-5-文件系统挂载与卸载"><a href="#8-3-5-文件系统挂载与卸载" class="headerlink" title="8.3.5 文件系统挂载与卸载"></a>8.3.5 文件系统挂载与卸载</h4><p><strong>挂载之前需要注意</strong></p>
<ul>
<li>单一文件系统不应该被重复挂载在不同的挂载点（目录）中；</li>
<li>单一目录不应该重复挂载多个文件系统；</li>
<li>要作为挂载点的目录，理论上应该都是空目录才是。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">mount -a</span><br><span class="line">mount [-l]</span><br><span class="line">mount [-t 文件系统] LABEL=<span class="string">&#x27;&#x27;</span> 挂载点</span><br><span class="line">mount [-t 文件系统] UUID=<span class="string">&#x27;&#x27;</span> 挂载点 <span class="comment"># 鸟哥近期建议用这种方式！</span></span><br><span class="line">mount [-t 文件系统] 设备文件名 挂载点</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-a ：依照配置文件 /etc/fstab 的数据将所有未挂载的磁盘都挂载上来</span><br><span class="line">-l ：单纯的输入 mount 会显示目前挂载的信息。加上 -l 可增列 Label 名</span><br><span class="line">称！</span><br><span class="line">-t ：可以加上文件系统种类来指定欲挂载的类型。常见的 Linux 支持类型有：xfs, ext3, ext4,reiserfs, vfat, iso9660（光盘格式）, nfs, cifs, smbfs （后三种为网络文件系统类型）</span><br><span class="line">-n ：在默认的情况下，系统会将实际挂载的情况实时写入 /etc/mtab 中，以利其他程序的运行。但在某些情况下（例如单人维护模式）为了避免问题会刻意不写入。此时就得要使用 -n 选项。</span><br><span class="line">-o ：后面可以接一些挂载时额外加上的参数！比方说帐号、密码、读写权限等：async, <span class="built_in">sync</span>: 此文件系统是否使用同步写入 （<span class="built_in">sync</span>） 或非同步（async） 的内存机制，请参考文件系统运行方式。默认为 async。</span><br><span class="line">    atime,noatime: 是否修订文件的读取时间（atime）。为了性能，某些时刻可使用 noatime</span><br><span class="line">    ro, rw: 挂载文件系统成为只读（ro） 或可读写（rw）</span><br><span class="line">    auto, noauto: 允许此 filesystem 被以 mount -a 自动挂载（auto）</span><br><span class="line">    dev, nodev: 是否允许此 filesystem 上，可创建设备文件？ dev 为可允许</span><br><span class="line">    suid, nosuid: 是否允许此 filesystem 含有 suid/sgid 的文件格式？</span><br><span class="line">    <span class="built_in">exec</span>, noexec: 是否允许此 filesystem 上拥有可执行 binary 文件？</span><br><span class="line">    user, nouser: 是否允许此 filesystem 让任何使用者执行 mount ？一般来说，mount 仅有 root 可以进行，但下达 user 参数，则可让一般 user 也能够对此partition 进行 mount 。</span><br><span class="line">    defaults: 默认值为：rw, suid, dev, <span class="built_in">exec</span>, auto, nouser, and async</span><br><span class="line">    remount: 重新挂载，这在系统出错，或重新更新参数时，很有用！</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;挂载 xfs&#x2F;ext4&#x2F;vfat 等文件系统&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">范例：找出 /dev/vda4 的 UUID 后，用该 UUID 来挂载文件系统到 /data/xfs 内</span><br><span class="line">[root@study ~]<span class="comment"># blkid /dev/vda4</span></span><br><span class="line">/dev/vda4: UUID=<span class="string">&quot;e0a6af55-26e7-4cb7-a515-826a8bd29e90&quot;</span> TYPE=<span class="string">&quot;xfs&quot;</span></span><br><span class="line">[root@study ~]<span class="comment"># mount UUID=&quot;e0a6af55-26e7-4cb7-a515-826a8bd29e90&quot; /data/xfs</span></span><br><span class="line">mount: mount point /data/xfs does not exist <span class="comment"># 非正规目录！所以手动创建它！</span></span><br><span class="line"></span><br><span class="line">[root@study ~]<span class="comment"># mkdir -p /data/xfs</span></span><br><span class="line">[root@study ~]<span class="comment"># mount UUID=&quot;e0a6af55-26e7-4cb7-a515-826a8bd29e90&quot; /data/xfs</span></span><br><span class="line">[root@study ~]<span class="comment"># df /data/xfs</span></span><br><span class="line">Filesystem 1K-blocks Used Available Use% Mounted on</span><br><span class="line">/dev/vda4 1038336 32864 1005472 4% /data/xfs</span><br><span class="line"><span class="comment"># 顺利挂载，且容量约为 1G 左右没问题！</span></span><br><span class="line"></span><br><span class="line">范例：使用相同的方式，将 /dev/vda5 挂载于 /data/ext4</span><br><span class="line">[root@study ~]<span class="comment"># blkid /dev/vda5</span></span><br><span class="line">/dev/vda5: UUID=<span class="string">&quot;899b755b-1da4-4d1d-9b1c-f762adb798e1&quot;</span> TYPE=<span class="string">&quot;ext4&quot;</span></span><br><span class="line">[root@study ~]<span class="comment"># mkdir /data/ext4</span></span><br><span class="line">[root@study ~]<span class="comment"># mount UUID=&quot;899b755b-1da4-4d1d-9b1c-f762adb798e1&quot; /data/ext4</span></span><br><span class="line">[root@study ~]<span class="comment"># df /data/ext4</span></span><br><span class="line">Filesystem 1K-blocks Used Available Use% Mounted on</span><br><span class="line">/dev/vda5 999320 2564 927944 1% /data/ext4</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;挂载 CD 或 DVD 光盘&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">范例：将你用来安装 Linux 的 CentOS 原版光盘拿出来挂载到 /data/cdrom！</span><br><span class="line">[root@study ~]<span class="comment"># blkid</span></span><br><span class="line">.....（前面省略）.....</span><br><span class="line">/dev/sr0: UUID=<span class="string">&quot;2015-04-01-00-21-36-00&quot;</span> LABEL=<span class="string">&quot;CentOS 7 x86_64&quot;</span></span><br><span class="line">TYPE=<span class="string">&quot;iso9660&quot;</span> PTTYPE=<span class="string">&quot;dos&quot;</span></span><br><span class="line">[root@study ~]<span class="comment"># mkdir /data/cdrom</span></span><br><span class="line">[root@study ~]<span class="comment"># mount /dev/sr0 /data/cdrom</span></span><br><span class="line">mount: /dev/sr0 is write-protected, mounting read-only</span><br><span class="line">[root@study ~]<span class="comment"># df /data/cdrom</span></span><br><span class="line">Filesystem 1K-blocks Used Available Use% Mounted on</span><br><span class="line">/dev/sr0 7413478 7413478 0 100% /data/cdrom</span><br><span class="line"><span class="comment"># 怎么会使用掉 100% 呢？是啊！因为是 DVD 啊！所以无法再写入了啊！</span></span><br></pre></td></tr></table></figure>

<p>如果你使用的是图形界面，那么系统会自动的帮你挂载这个光盘到 &#x2F;media&#x2F; 里面去喔！也可以不卸载就直接退出！ 但是文字界面没有这个福利。需要卸载才能退出。</p>
<p>&#x3D;&#x3D;挂载 vfat 中文U盘 （USB磁盘）&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">范例：找出你的U盘设备的 UUID，并挂载到 /data/usb 目录中</span><br><span class="line">[root@study ~]<span class="comment"># blkid</span></span><br><span class="line">/dev/sda1: UUID=<span class="string">&quot;35BC-6D6B&quot;</span> TYPE=<span class="string">&quot;vfat&quot;</span></span><br><span class="line">[root@study ~]<span class="comment"># mkdir /data/usb</span></span><br><span class="line">[root@study ~]<span class="comment"># mount -o codepage=950,iocharset=utf8 UUID=&quot;35BC-6D6B&quot;</span></span><br><span class="line">/data/usb</span><br><span class="line">[root@study ~]<span class="comment"># # mount -o codepage=950,iocharset=big5 UUID=&quot;35BC-6D6B&quot;</span></span><br><span class="line">/data/usb</span><br><span class="line">[root@study ~]<span class="comment"># df /data/usb</span></span><br><span class="line">Filesystem 1K-blocks Used Available Use% Mounted on</span><br><span class="line">/dev/sda1 2092344 4 2092340 1% /data/usb</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;重新挂载根目录与挂载不特定目录&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;umount 将设备文件卸载&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">umount [-fn] 设备文件名或挂载点</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-f ：强制卸载！可用在类似网络文件系统 （NFS） 无法读取到的情况下；</span><br><span class="line">-l ：立刻卸载文件系统，比 -f 还强！</span><br><span class="line">-n ：不更新 /etc/mtab 情况下卸载。</span><br></pre></td></tr></table></figure>

<h4 id="8-3-6-磁盘-文件系统参数修订"><a href="#8-3-6-磁盘-文件系统参数修订" class="headerlink" title="8.3.6 磁盘&#x2F;文件系统参数修订"></a>8.3.6 磁盘&#x2F;文件系统参数修订</h4><p>某些时刻，你可能会希望修改一下目前文件系统的一些相关信息，举例来说，你可能要修改 Label name ， 或者是 journal 的参数，或者是其他磁盘&#x2F;文件系统运行时的相关参数。</p>
<p>&#x3D;&#x3D;mknod&#x3D;&#x3D;</p>
<p>在 Linux 下面所有的设备都以文件来代表，但是那个文件如何代表该设备呢？ 很简单！就是通过文件的 major 与 minor 数值来替代的～</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过指令查看设备 major,minor 号或者参考核心官网的说明</span></span><br><span class="line">lsblk</span><br><span class="line"></span><br><span class="line"><span class="built_in">mknod</span> 设备文件名 [bcp] [Major] [Minor]</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">设备种类：</span><br><span class="line"> b ：设置设备名称成为一个周边储存设备文件，例如磁盘等；</span><br><span class="line"> c ：设置设备名称成为一个周边输入设备文件，例如鼠标/键盘等；</span><br><span class="line"> p ：设置设备名称成为一个 FIFO 文件；</span><br><span class="line">Major ：主要设备代码；</span><br><span class="line">Minor ：次要设备代码；</span><br><span class="line"></span><br><span class="line">范例：由上述的介绍我们知道 /dev/vda10 设备代码 252, 10，请创建并查阅此设备</span><br><span class="line">[root@study ~]<span class="comment"># mknod /dev/vda10 b 252 10</span></span><br><span class="line">[root@study ~]<span class="comment"># ll /dev/vda10</span></span><br><span class="line">brw-r--r--. 1 root root 252, 10 Jun 24 23:40 /dev/vda10</span><br><span class="line"><span class="comment"># 上面那个 252 与 10 是有意义的，不要随意设置啊！</span></span><br><span class="line">范例：创建一个 FIFO 文件，文件名为 /tmp/testpipe</span><br><span class="line">[root@study ~]<span class="comment"># mknod /tmp/testpipe p</span></span><br><span class="line">[root@study ~]<span class="comment"># ll /tmp/testpipe</span></span><br><span class="line">prw-r--r--. 1 root root 0 Jun 24 23:44 /tmp/testpipe</span><br><span class="line"><span class="comment"># 注意啊！这个文件可不是一般文件，不可以随便就放在这里！</span></span><br><span class="line"><span class="comment"># 测试完毕之后请删除这个文件吧！看一下这个文件的类型！是 p 喔！^_^</span></span><br><span class="line">[root@study ~]<span class="comment"># rm /dev/vda10 /tmp/testpipe</span></span><br><span class="line"><span class="built_in">rm</span>: remove block special file <span class="string">&#x27;/dev/vda10&#x27;</span> ? y</span><br><span class="line"><span class="built_in">rm</span>: remove fifo <span class="string">&#x27;/tmp/testpipe&#x27;</span> ? y</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;xfs_admin 修改 XFS 文件系统的 UUID 与 Label name&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;tune2fs 修改 ext4 的 label name 与 UUID&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># tune2fs [-l] [-L Label] [-U uuid] 设备文件名</span></span><br><span class="line">选项与参数：</span><br><span class="line">-l ：类似 dumpe2fs -h 的功能～将 superblock 内的数据读出来～</span><br><span class="line">-L ：修改 LABEL name</span><br><span class="line">-U ：修改 UUID</span><br><span class="line"></span><br><span class="line">范例：列出 /dev/vda5 的 label name 之后，将它改成 vbird_ext4</span><br><span class="line">[root@study ~]<span class="comment"># dumpe2fs -h /dev/vda5 | grep name</span></span><br><span class="line">dumpe2fs 1.42.9 （28-Dec-2013）</span><br><span class="line">Filesystem volume name: &lt;none&gt; <span class="comment"># 果然是没有设置的！</span></span><br><span class="line">[root@study ~]<span class="comment"># tune2fs -L vbird_ext4 /dev/vda5</span></span><br><span class="line">[root@study ~]<span class="comment"># dumpe2fs -h /dev/vda5 | grep name</span></span><br><span class="line">Filesystem volume name: vbird_ext4</span><br><span class="line">[root@study ~]<span class="comment"># mount LABEL=vbird_ext4 /data/ext4</span></span><br></pre></td></tr></table></figure>

<h3 id="8-4-设置开机挂载"><a href="#8-4-设置开机挂载" class="headerlink" title="8.4 设置开机挂载"></a>8.4 设置开机挂载</h3><h4 id="8-4-1-开机挂载-etc-fstab-及-etc-mtab"><a href="#8-4-1-开机挂载-etc-fstab-及-etc-mtab" class="headerlink" title="8.4.1 开机挂载 &#x2F;etc&#x2F;fstab 及 &#x2F;etc&#x2F;mtab"></a>8.4.1 开机挂载 &#x2F;etc&#x2F;fstab 及 &#x2F;etc&#x2F;mtab</h4><p>手动处理 mount 不是很人性化，我们总是需要让系统“自动”在开机时进行挂载。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/fstab</span><br></pre></td></tr></table></figure>

<p>&#x2F;etc&#x2F;fstab （filesystem table） 就是将我们利用 mount 指令进行挂载时， 将所有的选项与参数写入到这个文件中。</p>
<ul>
<li><p>第一栏：磁盘设备文件名&#x2F;UUID&#x2F;LABEL name。这个字段可以填写的数据主要有三个项目：</p>
<ul>
<li><p>文件系统或磁盘的设备文件名，如 &#x2F;dev&#x2F;vda2 等</p>
</li>
<li><p>文件系统的 UUID 名称，如 UUID&#x3D;xxx</p>
</li>
<li><p>文件系统的 LABEL 名称，例如 LABEL&#x3D;xxx</p>
</li>
</ul>
</li>
<li><p>第二栏：挂载点 （mount point）</p>
</li>
<li><p>第三栏：磁盘分区的文件系统</p>
</li>
<li><p>第四栏：文件系统参数</p>
</li>
<li><p>第五栏：能否被 dump 备份指令作用。现在备份方式太多了，直接输入0就好</p>
</li>
<li><p>第六栏：是否以 fsck 检验扇区</p>
</li>
</ul>
<p>在 &#x2F;etc&#x2F;fstab 中加入以上信息即可设置开机自动挂载。</p>
<h4 id="8-4-2-特殊设备-loop-挂载"><a href="#8-4-2-特殊设备-loop-挂载" class="headerlink" title="8.4.2 特殊设备 loop 挂载"></a>8.4.2 特殊设备 loop 挂载</h4><p>如果有光盘镜像文件，或者是使用文件作为磁盘的方式时，那就得要使用特别的方法来将他挂载起来，不需要烧录。</p>
<p>&#x3D;&#x3D;挂载光盘&#x2F;DVD镜像文件&#x3D;&#x3D;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看光盘镜像文件</span></span><br><span class="line">ll -h /tmp/CentOS-7-x86_64-Everything-1810.iso</span><br><span class="line"><span class="comment">#创建挂载目录</span></span><br><span class="line"><span class="built_in">mkdir</span> /data/centos_dvd</span><br><span class="line"><span class="comment">#挂载</span></span><br><span class="line">mount -o loop /tmp/CentOS-7-x86_64-Everything-1810.iso /data/centos_dvd/</span><br><span class="line"><span class="comment">#查看挂载情况</span></span><br><span class="line"><span class="built_in">df</span> /data/centos_dvd</span><br><span class="line"><span class="comment">#现在就可以查看 DVD 中的内容</span></span><br><span class="line">ll /data/centos_dvd</span><br><span class="line"><span class="comment">#卸载</span></span><br><span class="line">umount /data/centos_dvd/</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;创建大文件以制作 loop 设备文件&#x3D;&#x3D;</p>
<p>假如只分区出 1 个根目录，没有多余的容量进行额外的分区，那么可以制作出 1 个大文件，然后将这个文件挂载。下面我们在 &#x2F;srv 下创建一个 512MB 左右的大文件，然后将这个大文件格式化并且实际挂载来玩一玩。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 假设我要创建一个空的文件在/srv/loopdev</span></span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/srv/loopdev bs=1M count=512</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这个指令的简单意义如下：</span></span><br><span class="line"><span class="comment"># if 是 input file ，输入文件。那个 /dev/zero 是会一直输出 0 的设备！</span></span><br><span class="line"><span class="comment"># of 是 output file ，将一堆零写入到后面接的文件中。</span></span><br><span class="line"><span class="comment"># bs 是每个 block 大小，就像文件系统那样的 block 意义；</span></span><br><span class="line"><span class="comment"># count 则是总共几个 bs 的意思。所以 bs*count 就是这个文件的容量了！</span></span><br><span class="line"><span class="comment"># dd 就好像在叠砖块一样，将 512 块，每块 1MB 的砖块堆叠成为一个大文件 （/srv/loopdev） ！ 最终就会出现一个 512MB 的文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看创建的空文件</span></span><br><span class="line">ll -h /srv/loopdev</span><br><span class="line"></span><br><span class="line"><span class="comment">#大型文件的格式化</span></span><br><span class="line">mkfs.xfs -f /srv/loopdev</span><br><span class="line"><span class="comment">#查看 UUID</span></span><br><span class="line">blkid /srv/loopdev</span><br><span class="line"><span class="comment">#挂载</span></span><br><span class="line">mount -o loop UUID=<span class="string">&quot;ab4fd4c1-14fb-4e4e-a466-0b96f3193415&quot;</span> /mnt</span><br><span class="line"><span class="comment">#查看挂载情况</span></span><br><span class="line"><span class="built_in">df</span> /mnt</span><br><span class="line"></span><br><span class="line"><span class="comment">#自动挂载该文件</span></span><br><span class="line">nano /etc/fstab</span><br><span class="line">/srv/loopdev	/data/file	xfs	defaults,loop	0	0</span><br><span class="line"><span class="comment"># 毕竟系统大多仅查询 block device 去找出 UUID 而已，因此使用文件创建的filesystem，最好还是使用原本的文件名来处理，应该比较不容易出现错误讯息的！</span></span><br><span class="line">umount /mnt</span><br><span class="line"><span class="built_in">mkdir</span> /data/file</span><br><span class="line">mount -a</span><br><span class="line"><span class="built_in">df</span> /data/file</span><br></pre></td></tr></table></figure>

<h3 id="8-5-内存交换空间-swap-的创建"><a href="#8-5-内存交换空间-swap-的创建" class="headerlink" title="8.5 内存交换空间(swap)的创建"></a>8.5 内存交换空间(swap)的创建</h3><p>swap 主要的功能是当实体内存不够时，则某些在内存当中所占的程序会暂时被移动到 swap 当中，让实体内存可以被需要的程序来使用。</p>
<p>如果安装系统时没有设置 swap 分区，也可以在安装系统后创建。</p>
<h4 id="8-5-1-使用实体分区创建-swap"><a href="#8-5-1-使用实体分区创建-swap" class="headerlink" title="8.5.1 使用实体分区创建 swap"></a>8.5.1 使用实体分区创建 swap</h4><h4 id="8-5-2-使用文件创建-swap"><a href="#8-5-2-使用文件创建-swap" class="headerlink" title="8.5.2 使用文件创建 swap"></a>8.5.2 使用文件创建 swap</h4><h3 id="8-6-文件系统的特殊观察与操作"><a href="#8-6-文件系统的特殊观察与操作" class="headerlink" title="8.6 文件系统的特殊观察与操作"></a>8.6 文件系统的特殊观察与操作</h3><h4 id="8-6-1-磁盘空间浪费问题"><a href="#8-6-1-磁盘空间浪费问题" class="headerlink" title="8.6.1 磁盘空间浪费问题"></a>8.6.1 磁盘空间浪费问题</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ll -sh</span><br></pre></td></tr></table></figure>

<p>上面的命令在文件最左侧会显示每个文件实际占据的 block 大小，因为 1 个 block 占 4K，即使文件小于 4K（剩余的容量会被浪费）。total 显示的容量则为该目录下 block 数量与 block 大小的乘积。</p>
<h4 id="8-6-2-利用-GNU-的-parted-进行分区行为-optional"><a href="#8-6-2-利用-GNU-的-parted-进行分区行为-optional" class="headerlink" title="8.6.2 利用 GNU 的 parted 进行分区行为(optional)"></a>8.6.2 利用 GNU 的 parted 进行分区行为(optional)</h4><p>使用不同的分区时，得要先查询到正确的分区表才能用适合的指令(gdisk或fdisk)，而 parted 指令同时支持 MBR 分区与 GPT 分区。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">parted [设备] [指令 [参数]]</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">指令功能：</span><br><span class="line">	新增分区：mkpart [primary|logical|extended] [ext4|vfat|xfs]</span><br><span class="line">开始 结束</span><br><span class="line">	显示分区：<span class="built_in">print</span></span><br><span class="line">	删除分区：<span class="built_in">rm</span> [partition]</span><br><span class="line"></span><br><span class="line"><span class="comment"># parted 列出本机目前的分区表数据</span></span><br><span class="line">parted /dev/sda <span class="built_in">print</span></span><br><span class="line">parted /dev/sda unit mb <span class="built_in">print</span> <span class="comment">#以相同单位显示</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>Number：这个就是分区的号码！举例来说，1号代表的是&#x2F;dev&#x2F;sda1 的意思；</p>
</li>
<li><p>Start：分区的起始位置在这颗磁盘的多少 MB 处？他以容量作为单位！</p>
</li>
<li><p>End：此分区的结束位置在这颗磁盘的多少 MB 处？</p>
</li>
<li><p>Size：由上述两者的分析，得到这个分区有多少容量；</p>
</li>
<li><p>File system：分析可能的文件系统类型为何的意思！</p>
</li>
<li><p>Name：就如同 gdisk 的 System ID 之意。</p>
</li>
</ul>
<h2 id="9-文件与文件系统的压缩、打包与备份"><a href="#9-文件与文件系统的压缩、打包与备份" class="headerlink" title="9. 文件与文件系统的压缩、打包与备份"></a>9. 文件与文件系统的压缩、打包与备份</h2><h3 id="9-1-压缩文件技术"><a href="#9-1-压缩文件技术" class="headerlink" title="9.1 压缩文件技术"></a>9.1 压缩文件技术</h3><p>一般文件大小最小以 Byte 单位显示，1 个 Byte 占据 8 个 bit。比如，1 实际上只填充了 8 个 bit 中的最后 1 位，其余 7 位以 0 填充。压缩技术可以将这些以 0 填充的空间“丢”出来，从而达到文件变小的目的，有些技术也可以利用其它方法，如将重复的数据进行统计记录，比如 111… 有100个时统计为100个1。而将文件恢复为原状以便于用户使用或读取的技术称为解压缩。</p>
<h3 id="9-2-Linux-系统常见压缩指令"><a href="#9-2-Linux-系统常见压缩指令" class="headerlink" title="9.2 Linux 系统常见压缩指令"></a>9.2 Linux 系统常见压缩指令</h3><p><strong>常见压缩文件扩展名</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*.Z   compress 程序压缩的文件；</span><br><span class="line">*.zip   zip 程序压缩的文件；</span><br><span class="line">*.gz   gzip 程序压缩的文件；</span><br><span class="line">*.bz2   bzip2 程序压缩的文件；</span><br><span class="line">*.xz   xz 程序压缩的文件；</span><br><span class="line">*.tar   tar 程序打包的数据，并没有压缩过；</span><br><span class="line">*.tar.gz   tar 程序打包的文件，其中并且经过 gzip 的压缩</span><br><span class="line">*.tar.bz2   tar 程序打包的文件，其中并且经过 bzip2 的压缩</span><br><span class="line">*.tar.xz   tar 程序打包的文件，其中并且经过 xz 的压缩</span><br></pre></td></tr></table></figure>

<p>gzip 是由 GNU 计划所开发出来的压缩指令，该指令已经取代了 compress 。 后来 GNU 又开发出 bzip2 及 xz 这几个压缩比更好的压缩指令！</p>
<h4 id="9-2-1-gzip-zcat-zmore-zless-zgrep"><a href="#9-2-1-gzip-zcat-zmore-zless-zgrep" class="headerlink" title="9.2.1 gzip,zcat&#x2F;zmore&#x2F;zless&#x2F;zgrep"></a>9.2.1 gzip,zcat&#x2F;zmore&#x2F;zless&#x2F;zgrep</h4><p>目前 gzip 可以解开 compress, zip 与 gzip 等软件所压缩的文件。</p>
<p><code>znew</code>指令可以将 compress 创建出来的 .Z 文件转换成 gzip 文件。</p>
<blockquote>
<p>  压缩时默认替换原文件</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gzip [-cdtv<span class="comment">#] 文件名</span></span><br><span class="line">zcat 文件名.gz</span><br><span class="line">选项与参数：</span><br><span class="line">-c ：将压缩的数据输出到屏幕上，可通过数据流重导向来处理；</span><br><span class="line">-d ：解压缩的参数；</span><br><span class="line">-t ：可以用来检验一个压缩文件的一致性～看看文件有无错误；</span><br><span class="line">-v ：可以显示出原文件/压缩文件的压缩比等信息；</span><br><span class="line">-<span class="comment"># ：# 为数字的意思，代表压缩等级，-1 最快，但是压缩比最差、-9 最慢，但是压缩比最好！默认是 -6</span></span><br></pre></td></tr></table></figure>

<h4 id="9-2-2-bzip2-bzcat-bzmore-bzless-bzgrep"><a href="#9-2-2-bzip2-bzcat-bzmore-bzless-bzgrep" class="headerlink" title="9.2.2 bzip2,bzcat&#x2F;bzmore&#x2F;bzless&#x2F;bzgrep"></a>9.2.2 bzip2,bzcat&#x2F;bzmore&#x2F;bzless&#x2F;bzgrep</h4><p>bzip2 是为了取代 gzip 并提供更佳的压缩比而来，时间较久。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bzip2 [-cdkzv<span class="comment">#] 文件名</span></span><br><span class="line">bzcat 文件名.bz2</span><br><span class="line">选项与参数：</span><br><span class="line">-c ：将压缩的过程产生的数据输出到屏幕上！</span><br><span class="line">-d ：解压缩的参数</span><br><span class="line">-k ：保留原始文件，而不会删除原始的文件喔！</span><br><span class="line">-z ：压缩的参数 （默认值，可以不加）</span><br><span class="line">-v ：可以显示出原文件/压缩文件的压缩比等信息；</span><br><span class="line">-<span class="comment"># ：与 gzip 同样的，都是在计算压缩比的参数， -9 最佳， -1 最快！</span></span><br></pre></td></tr></table></figure>

<h4 id="9-2-3-xz-xzcat-xzmore-xzless-xzgrep"><a href="#9-2-3-xz-xzcat-xzmore-xzless-xzgrep" class="headerlink" title="9.2.3 xz,xzcat&#x2F;xzmore&#x2F;xzless&#x2F;xzgrep"></a>9.2.3 xz,xzcat&#x2F;xzmore&#x2F;xzless&#x2F;xzgrep</h4><p>压缩比更高，时间更久</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xz [-dtlkc<span class="comment">#] 文件名</span></span><br><span class="line">xzcat 文件名.xz</span><br><span class="line">选项与参数：</span><br><span class="line">-d ：就是解压缩啊！</span><br><span class="line">-t ：测试压缩文件的完整性，看有没有错误</span><br><span class="line">-l ：列出压缩文件的相关信息</span><br><span class="line">-k ：保留原本的文件不删除～</span><br><span class="line">-c ：同样的，就是将数据由屏幕上输出的意思</span><br><span class="line">-<span class="comment"># ：同样的，也有较佳的压缩比的意思！</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>  gzip,bzip2,xz 等将目录递归压缩的操作实际上是对里面的文件分别进行了压缩</p>
</blockquote>
<h4 id="9-2-4-zip"><a href="#9-2-4-zip" class="headerlink" title="9.2.4 zip"></a>9.2.4 zip</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 zip 压缩与解压</span></span><br><span class="line">zip -r a.zip a  <span class="comment">#  把目录a以及其中所有文件压缩成a.zip，-r代表递归操作</span></span><br><span class="line">unzip a.zip -d ./  <span class="comment">#  把a.zip文件解压到当前目录</span></span><br><span class="line">zip -dv a.zip a <span class="comment"># 把压缩包a.zip中的 a文件删除，-d 从压缩文件内删除指定的文件，-v显示指令执行过程</span></span><br></pre></td></tr></table></figure>

<h3 id="9-3-打包：tar"><a href="#9-3-打包：tar" class="headerlink" title="9.3 打包：tar"></a>9.3 打包：tar</h3><h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>《鸟哥的linux私房菜-基础学习篇》第4版cat &#x2F;proc&#x2F;partitions</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"># Linux</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/02/11/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6/" rel="prev" title="======= 生物信息学 =======">
      <i class="fa fa-chevron-left"></i> ======= 生物信息学 =======
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/02/11/linux_back/" rel="next" title="">
       <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC-1-%E9%83%A8%E5%88%86-linux%E7%9A%84%E8%A7%84%E5%88%92%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="nav-number">1.</span> <span class="nav-text">第 1 部分 linux的规划与安装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%A6%82%E8%AE%BA"><span class="nav-number">1.1.</span> <span class="nav-text">0 计算机概论</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0-1-%E7%94%B5%E8%84%91%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86"><span class="nav-number">1.1.1.</span> <span class="nav-text">0.1 电脑相关知识</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#0-1-1-CPU%E7%9A%84%E6%9E%B6%E6%9E%84"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">0.1.1 CPU的架构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-1-2-%E5%85%B6%E5%AE%83%E5%8D%95%E5%85%83%E7%9A%84%E8%AE%BE%E5%A4%87"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">0.1.2 其它单元的设备</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-1-3-%E7%94%B5%E8%84%91%E4%B8%8A%E5%B8%B8%E7%94%A8%E8%AE%A1%E9%87%8F%E5%8D%95%E4%BD%8D"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">0.1.3 电脑上常用计量单位</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0-2-%E4%B8%AA%E4%BA%BA%E7%94%B5%E8%84%91%E6%9E%B6%E6%9E%84%E4%B8%8E%E7%9B%B8%E5%85%B3%E8%AE%BE%E5%A4%87%E5%85%83%E9%97%B4"><span class="nav-number">1.1.2.</span> <span class="nav-text">0.2 个人电脑架构与相关设备元间</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#0-2-1-CPU"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">0.2.1 CPU</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-2-2-%E5%86%85%E5%AD%98"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">0.2.2 内存</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-2-3-%E6%98%BE%E5%8D%A1"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">0.2.3 显卡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-2-4-%E7%A1%AC%E7%9B%98%E4%B8%8E%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87"><span class="nav-number">1.1.2.4.</span> <span class="nav-text">0.2.4 硬盘与存储设备</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-2-5-%E6%89%A9%E5%B1%95%E5%8D%A1%E4%B8%8E%E6%8E%A5%E5%8F%A3"><span class="nav-number">1.1.2.5.</span> <span class="nav-text">0.2.5 扩展卡与接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-2-6-%E4%B8%BB%E6%9D%BF"><span class="nav-number">1.1.2.6.</span> <span class="nav-text">0.2.6 主板</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-2-5-%E7%94%B5%E6%BA%90%E4%BE%9B%E5%BA%94%E5%99%A8"><span class="nav-number">1.1.2.7.</span> <span class="nav-text">0.2.5 电源供应器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0-3-%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA%E6%96%B9%E5%BC%8F"><span class="nav-number">1.1.3.</span> <span class="nav-text">0.3 数据表示方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#0-3-1-%E6%95%B0%E5%AD%97%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">0.3.1 数字系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-3-2-%E6%96%87%E5%AD%97%E7%BC%96%E7%A0%81%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">0.3.2 文字编码系统</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0-4-%E8%BD%AF%E4%BB%B6%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C"><span class="nav-number">1.1.4.</span> <span class="nav-text">0.4 软件程序运行</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#0-4-1-%E6%9C%BA%E5%99%A8%E7%A8%8B%E5%BA%8F%E4%B8%8E%E7%BC%96%E8%AF%91%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.1.4.1.</span> <span class="nav-text">0.4.1 机器程序与编译程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-4-2-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.1.4.2.</span> <span class="nav-text">0.4.2 操作系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-4-3-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.1.4.3.</span> <span class="nav-text">0.4.3 应用程序</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-linux%E6%98%AF%E4%BB%80%E4%B9%88%E4%B8%8E%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0"><span class="nav-number">1.2.</span> <span class="nav-text">1 linux是什么与如何学习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-linux-%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.1 linux 发展历史</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-Linux-distributions"><span class="nav-number">1.2.2.</span> <span class="nav-text">1.2 Linux distributions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA"><span class="nav-number">1.3.</span> <span class="nav-text">2 主机规划与磁盘分区</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-linux-%E4%B8%8E%E7%A1%AC%E4%BB%B6%E7%9A%84%E6%90%AD%E9%85%8D"><span class="nav-number">1.3.1.</span> <span class="nav-text">2.1 linux 与硬件的搭配</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-3-%E5%90%84%E7%A1%AC%E4%BB%B6%E8%AE%BE%E5%A4%87%E5%9C%A8-linux-%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">2.1.3 各硬件设备在 linux 中的文件名</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA"><span class="nav-number">1.3.2.</span> <span class="nav-text">2.2 磁盘分区</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-2-MSDOS-MBR-%E4%B8%8EGPT%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E8%A1%A8%EF%BC%88partition-table%EF%BC%89"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">2.2.2 MSDOS(MBR)与GPT磁盘分区表（partition table）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-3-BIOS%E4%B8%8EUEFI%E5%BC%80%E6%9C%BA%E6%A3%80%E6%B5%8B%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">2.2.3 BIOS与UEFI开机检测程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-4-linux-%E5%AE%89%E8%A3%85%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E7%9A%84%E9%80%89%E6%8B%A9"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">2.2.4 linux 安装模式下磁盘分区的选择</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E5%AE%89%E8%A3%85-linux-%E5%89%8D%E7%9A%84%E8%A7%84%E5%88%92"><span class="nav-number">1.3.3.</span> <span class="nav-text">2.3 安装 linux 前的规划</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1-%E9%80%89%E6%8B%A9%E9%80%82%E5%BD%93%E7%9A%84-distribution"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">2.3.1 选择适当的 distribution</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-2-%E4%B8%BB%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E8%A7%84%E5%88%92%E4%B8%8E%E7%A1%AC%E4%BB%B6%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">2.3.2 主机的服务规划与硬件的关系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-3-%E4%B8%BB%E6%9C%BA%E7%A1%AC%E7%9B%98%E7%9A%84%E4%B8%BB%E8%A6%81%E8%A7%84%E5%88%92"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">2.3.3 主机硬盘的主要规划</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-4-%E9%B8%9F%E5%93%A5%E4%B8%A4%E4%B8%AA%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B"><span class="nav-number">1.3.3.4.</span> <span class="nav-text">2.3.4 鸟哥两个实际案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%AE%89%E8%A3%85-linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.4.</span> <span class="nav-text">3 安装 linux 操作系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E5%AE%89%E8%A3%85-CenOS7-x"><span class="nav-number">1.4.1.</span> <span class="nav-text">3.1 安装 CenOS7.x</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E5%9F%BA%E4%BA%8E-VMware-%E5%AE%89%E8%A3%85-Ubuntu-%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-number">1.4.2.</span> <span class="nav-text">3.2 基于 VMware 安装 Ubuntu 虚拟机</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">3.2.1 准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-VMware-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E5%86%8C"><span class="nav-number">1.4.2.1.1.</span> <span class="nav-text">(1) VMware 安装与注册</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E6%96%B0%E5%BB%BA%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA"><span class="nav-number">1.4.2.1.2.</span> <span class="nav-text">(2) 新建磁盘分区</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-ubuntu-%E8%99%9A%E6%8B%9F%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">3.2.2 ubuntu 虚拟系统安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-3-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">3.2.3 虚拟机安装问题解决</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-%E5%AE%89%E8%A3%85-Ubuntu-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.4.3.</span> <span class="nav-text">3.3 安装 Ubuntu 操作系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-1-%E5%88%B6%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E5%90%AF%E5%8A%A8%E5%AE%89%E8%A3%85%E7%9B%98"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">3.3.1 制作系统镜像启动安装盘</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%EF%BC%89Ubuntu%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD"><span class="nav-number">1.4.3.1.1.</span> <span class="nav-text">1）Ubuntu系统镜像下载</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%EF%BC%89%E5%88%B6%E4%BD%9C%E5%90%AF%E5%8A%A8%E7%9B%98%E8%BD%AF%E4%BB%B6-UltraISO-%E4%B8%8B%E8%BD%BD"><span class="nav-number">1.4.3.1.2.</span> <span class="nav-text">2）制作启动盘软件(UltraISO)下载</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%EF%BC%89%E5%BC%80%E5%A7%8B%E5%88%B6%E4%BD%9C%E5%90%AF%E5%8A%A8%E7%9B%98"><span class="nav-number">1.4.3.1.3.</span> <span class="nav-text">3）开始制作启动盘</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-2-%E5%AE%89%E8%A3%85Ubuntu"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">3.3.2 安装Ubuntu</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%EF%BC%89%E8%AE%BE%E7%BD%AEBIOS"><span class="nav-number">1.4.3.2.1.</span> <span class="nav-text">1）设置BIOS</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%EF%BC%89%E5%AE%89%E8%A3%85Ubuntu"><span class="nav-number">1.4.3.2.2.</span> <span class="nav-text">2）安装Ubuntu</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%EF%BC%89Ubuntu%E5%88%86%E5%8C%BA"><span class="nav-number">1.4.3.2.3.</span> <span class="nav-text">3）Ubuntu分区</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-3-%E5%9C%A8Ubuntu%E4%B8%8B%E9%87%8D%E8%A3%85Ubuntu"><span class="nav-number">1.4.3.3.</span> <span class="nav-text">3.3.3 在Ubuntu下重装Ubuntu</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-4-%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE-Ubuntu%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="nav-number">1.4.3.4.</span> <span class="nav-text">3.3.4 简单配置 Ubuntu（可选）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%EF%BC%89%E8%AE%BE%E7%BD%AE-root-%E5%AF%86%E7%A0%81"><span class="nav-number">1.4.3.4.1.</span> <span class="nav-text">1）设置 root 密码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%EF%BC%89%E9%85%8D%E7%BD%AESSH"><span class="nav-number">1.4.3.4.2.</span> <span class="nav-text">2）配置SSH</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%EF%BC%89%E8%BF%81%E7%A7%BB-conda-%E7%8E%AF%E5%A2%83"><span class="nav-number">1.4.3.4.3.</span> <span class="nav-text">3）迁移 conda 环境</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E9%A6%96%E6%AC%A1%E7%99%BB%E5%BD%95%E4%B8%8E%E7%BA%BF%E4%B8%8A%E6%B1%82%E5%8A%A9"><span class="nav-number">1.5.</span> <span class="nav-text">4 首次登录与线上求助</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%9C%A8%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E7%99%BB%E5%BD%95-linux-%E7%BB%88%E7%AB%AF"><span class="nav-number">1.5.1.</span> <span class="nav-text">4.1 在局域网内登录 linux 终端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E6%8C%87%E4%BB%A4%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.5.2.</span> <span class="nav-text">4.2 指令帮助信息查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E7%94%A8%E6%88%B7%E4%B8%8E%E5%AF%86%E7%A0%81%E9%97%AE%E9%A2%98"><span class="nav-number">1.5.3.</span> <span class="nav-text">4.3 用户与密码问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="nav-number">1.5.3.1.</span> <span class="nav-text">4.3.1 忘记密码怎么办?</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Ubuntu-%E5%BF%AB%E9%80%9F%E9%85%8D%E7%BD%AE%E4%B8%8E%E7%94%9F%E4%BF%A1%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">1.6.</span> <span class="nav-text">5 Ubuntu 快速配置与生信环境搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-SSH-%E8%BF%9C%E7%A8%8B%E9%85%8D%E7%BD%AE"><span class="nav-number">1.6.1.</span> <span class="nav-text">5.1 SSH 远程配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E9%A2%9C%E8%89%B2-%E5%8F%AF%E9%80%89"><span class="nav-number">1.6.2.</span> <span class="nav-text">5.2 配置用户颜色(可选)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E5%85%B3%E4%BA%8E-VMvare-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%BF%AB%E7%85%A7-%E5%8F%AF%E9%80%89"><span class="nav-number">1.6.3.</span> <span class="nav-text">5.3 关于 VMvare 虚拟机快照(可选)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-%E5%AE%89%E8%A3%85-mamba"><span class="nav-number">1.6.4.</span> <span class="nav-text">5.4 安装 mamba</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%B8%8B%E8%BD%BD-mambaforge"><span class="nav-number">1.6.4.1.</span> <span class="nav-text">(1) 下载 mambaforge</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%AE%89%E8%A3%85-mamba"><span class="nav-number">1.6.4.2.</span> <span class="nav-text">(2) 安装 mamba</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%88%B7%E6%96%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">1.6.4.3.</span> <span class="nav-text">(3) 刷新环境变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%B7%BB%E5%8A%A0%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="nav-number">1.6.4.4.</span> <span class="nav-text">(4) 添加软件源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E6%B7%BB%E5%8A%A0%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F-%E6%9A%82%E4%B8%8D%E6%B7%BB%E5%8A%A0"><span class="nav-number">1.6.4.5.</span> <span class="nav-text">(5) 添加国内镜像(暂不添加)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83"><span class="nav-number">1.6.5.</span> <span class="nav-text">5.5 创建虚拟环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-6-%E5%AE%89%E8%A3%85%E8%BD%AC%E5%BD%95%E7%BB%84%E4%B8%8A%E6%B8%B8%E5%88%86%E6%9E%90%E8%BD%AF%E4%BB%B6"><span class="nav-number">1.6.6.</span> <span class="nav-text">5.6 安装转录组上游分析软件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E9%80%9A%E8%BF%87-mamba-%E5%AE%89%E8%A3%85"><span class="nav-number">1.6.6.1.</span> <span class="nav-text">(1) 通过 mamba 安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E5%8C%85%E5%AE%89%E8%A3%85"><span class="nav-number">1.6.6.2.</span> <span class="nav-text">(2) 直接下载安装包安装</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-7-%E4%B8%80%E4%BA%9B%E4%BE%BF%E6%8D%B7%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-number">1.6.7.</span> <span class="nav-text">5.7 一些便捷的配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-ll"><span class="nav-number">1.6.7.1.</span> <span class="nav-text">(1) ll</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-vim-%E9%85%8D%E7%BD%AE"><span class="nav-number">1.6.7.2.</span> <span class="nav-text">(2) vim 配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E4%B8%8B%E8%BD%BD-plocate"><span class="nav-number">1.6.7.3.</span> <span class="nav-text">(3) 下载 plocate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E9%87%8A%E6%94%BE%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4"><span class="nav-number">1.6.7.4.</span> <span class="nav-text">(4) 释放存储空间</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC-2-%E9%83%A8%E5%88%86-linux%E6%96%87%E4%BB%B6%E3%80%81%E7%9B%AE%E5%BD%95%E4%B8%8E%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F"><span class="nav-number">2.</span> <span class="nav-text">第 2 部分 linux文件、目录与磁盘格式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-linux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E4%B8%8E%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.</span> <span class="nav-text">6 linux文件权限与目录配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-%E4%BD%BF%E7%94%A8%E8%80%85%E4%B8%8E%E7%BE%A4%E7%BB%84"><span class="nav-number">2.1.1.</span> <span class="nav-text">6.1 使用者与群组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-Linux-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%A6%82%E5%BF%B5"><span class="nav-number">2.1.2.</span> <span class="nav-text">6.2 Linux 文件权限概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-1-linux-%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">6.2.1 linux 文件属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-2-%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7%E4%B8%8E%E6%9D%83%E9%99%90"><span class="nav-number">2.1.2.2.</span> <span class="nav-text">6.2.2 更改文件属性与权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-3-%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6%E7%9A%84%E6%9D%83%E9%99%90%E5%8C%BA%E5%88%AB"><span class="nav-number">2.1.2.3.</span> <span class="nav-text">6.2.3 目录与文件的权限区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-linux-%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.3.</span> <span class="nav-text">6.3 linux 目录配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-1-%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE%E4%BE%9D%E6%8D%AE-FHS"><span class="nav-number">2.1.3.1.</span> <span class="nav-text">6.3.1 目录配置依据-FHS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-2-%E7%9B%AE%E5%BD%95%E6%A0%91"><span class="nav-number">2.1.3.2.</span> <span class="nav-text">6.3.2 目录树</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-linux%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86"><span class="nav-number">2.2.</span> <span class="nav-text">7 linux文件与目录管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-%E7%9B%AE%E5%BD%95%E4%B8%8E%E8%B7%AF%E5%BE%84"><span class="nav-number">2.2.1.</span> <span class="nav-text">7.1 目录与路径</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-1-%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E4%B8%8E%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="nav-number">2.2.1.1.</span> <span class="nav-text">7.1.1 绝对路径与相对路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-2-%E7%9B%AE%E5%BD%95%E7%9A%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C"><span class="nav-number">2.2.1.2.</span> <span class="nav-text">7.1.2 目录的相关操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-3-PATH"><span class="nav-number">2.2.1.3.</span> <span class="nav-text">7.1.3 $PATH</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86"><span class="nav-number">2.2.2.</span> <span class="nav-text">7.2 文件与目录管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-1-%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E6%A3%80%E8%A7%86"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">7.2.1 文件与目录检视</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-2-%E5%A4%8D%E5%88%B6"><span class="nav-number">2.2.2.2.</span> <span class="nav-text">7.2.2 复制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-3-%E5%88%A0%E9%99%A4"><span class="nav-number">2.2.2.3.</span> <span class="nav-text">7.2.3 删除</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-4-%E7%A7%BB%E5%8A%A8%E6%88%96%E9%87%8D%E5%91%BD%E5%90%8D"><span class="nav-number">2.2.2.4.</span> <span class="nav-text">7.2.4 移动或重命名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-5-%E8%8E%B7%E5%8F%96%E8%B7%AF%E5%BE%84%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D%E7%A7%B0%E4%B8%8E%E7%9B%AE%E5%BD%95%E5%90%8D%E7%A7%B0"><span class="nav-number">2.2.2.5.</span> <span class="nav-text">7.2.5 获取路径的文件名称与目录名称</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-6-%E9%93%BE%E6%8E%A5"><span class="nav-number">2.2.2.6.</span> <span class="nav-text">7.2.6 链接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%A3%80%E8%A7%86"><span class="nav-number">2.2.3.</span> <span class="nav-text">7.3 文件内容检视</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-1-%E7%9B%B4%E6%8E%A5%E6%A3%80%E8%A7%86%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="nav-number">2.2.3.1.</span> <span class="nav-text">7.3.1 直接检视文件内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-2-%E5%8F%AF%E7%BF%BB%E9%A1%B5%E6%A3%80%E8%A7%86"><span class="nav-number">2.2.3.2.</span> <span class="nav-text">7.3.2 可翻页检视</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-3-%E6%95%B0%E6%8D%AE%E6%88%AA%E5%8F%96"><span class="nav-number">2.2.3.3.</span> <span class="nav-text">7.3.3 数据截取</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-4-%E9%9D%9E%E7%BA%AF%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%EF%BC%9Aod"><span class="nav-number">2.2.3.4.</span> <span class="nav-text">7.3.4 非纯文本文件：od</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-5-%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%97%B6%E9%97%B4%E6%88%96%E5%88%9B%E5%BB%BA%E6%96%B0%E6%96%87%E4%BB%B6%EF%BC%9Atouch"><span class="nav-number">2.2.3.5.</span> <span class="nav-text">7.3.5 修改文件时间或创建新文件：touch</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-4-%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%9A%84%E9%BB%98%E8%AE%A4%E6%9D%83%E9%99%90%E4%B8%8E%E9%9A%90%E8%97%8F%E6%9D%83%E9%99%90"><span class="nav-number">2.2.4.</span> <span class="nav-text">7.4 文件与目录的默认权限与隐藏权限</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-1-%E6%96%87%E4%BB%B6%E9%BB%98%E8%AE%A4%E6%9D%83%E9%99%90%EF%BC%9Aumask"><span class="nav-number">2.2.4.1.</span> <span class="nav-text">7.4.1 文件默认权限：umask</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-2-%E6%96%87%E4%BB%B6%E9%9A%90%E8%97%8F%E5%B1%9E%E6%80%A7"><span class="nav-number">2.2.4.2.</span> <span class="nav-text">7.4.2 文件隐藏属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-3-%E6%96%87%E4%BB%B6%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90-SUID-SGID-SBIT"><span class="nav-number">2.2.4.3.</span> <span class="nav-text">7.4.3 文件特殊权限:SUID,SGID,SBIT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-4-%E8%A7%82%E5%AF%9F%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%EF%BC%9Afile"><span class="nav-number">2.2.4.4.</span> <span class="nav-text">7.4.4 观察文件类型：file</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-5-%E6%8C%87%E4%BB%A4%E4%B8%8E%E6%96%87%E4%BB%B6%E7%9A%84%E6%90%9C%E5%AF%BB"><span class="nav-number">2.2.5.</span> <span class="nav-text">7.5 指令与文件的搜寻</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-5-1-%E6%8C%87%E4%BB%A4%E6%96%87%E4%BB%B6%E5%90%8D%E7%9A%84%E6%90%9C%E5%AF%BB"><span class="nav-number">2.2.5.1.</span> <span class="nav-text">7.5.1 指令文件名的搜寻</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-5-2-%E6%96%87%E4%BB%B6%E6%96%87%E4%BB%B6%E5%90%8D%E7%9A%84%E6%90%9C%E5%AF%BB"><span class="nav-number">2.2.5.2.</span> <span class="nav-text">7.5.2 文件文件名的搜寻</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-Linux-%E7%A3%81%E7%9B%98%E4%B8%8E%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="nav-number">2.3.</span> <span class="nav-text">8. Linux 磁盘与文件系统管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-%E8%AE%A4%E8%AF%86-linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">2.3.1.</span> <span class="nav-text">8.1 认识 linux 文件系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-1-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%80%A7"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">8.1.1 文件系统特性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-2-Linux-%E7%9A%84-Ext2-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%EF%BC%88inode%EF%BC%89"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">8.1.2 Linux 的 Ext2 文件系统（inode）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-3-%E4%B8%8E%E7%9B%AE%E5%BD%95%E6%A0%91%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">2.3.1.3.</span> <span class="nav-text">8.1.3 与目录树的关系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-4-Ext2-Ext3-Ext4-%E6%96%87%E4%BB%B6%E7%9A%84%E5%AD%98%E5%8F%96%E4%B8%8E%E6%97%A5%E5%BF%97%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-number">2.3.1.4.</span> <span class="nav-text">8.1.4 Ext2&#x2F;Ext3&#x2F;Ext4 文件的存取与日志式文件系统的功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-6-Linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%BF%90%E8%A1%8C"><span class="nav-number">2.3.1.5.</span> <span class="nav-text">8.1.6 Linux 文件系统的运行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-7-%E6%8C%82%E8%BD%BD%E7%82%B9%E7%9A%84%E6%84%8F%E4%B9%89-mount-point"><span class="nav-number">2.3.1.6.</span> <span class="nav-text">8.1.7 挂载点的意义(mount point)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-8-%E5%85%B6%E4%BB%96-Linux-%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%8E-VFS"><span class="nav-number">2.3.1.7.</span> <span class="nav-text">8.1.8 其他 Linux 支持的文件系统与 VFS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-9-XFS-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%80%E4%BB%8B"><span class="nav-number">2.3.1.8.</span> <span class="nav-text">8.1.9 XFS 文件系统简介</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C"><span class="nav-number">2.3.2.</span> <span class="nav-text">8.2 文件系统的简单操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-1-%E7%A3%81%E7%9B%98%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%9A%84%E5%AE%B9%E9%87%8F"><span class="nav-number">2.3.2.1.</span> <span class="nav-text">8.2.1 磁盘与目录的容量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-2-%E5%AE%9E%E4%BD%93%E9%93%BE%E6%8E%A5%E4%B8%8E%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5-ln"><span class="nav-number">2.3.2.2.</span> <span class="nav-text">8.2.2 实体链接与符号链接:ln</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-3-%E7%A3%81%E7%9B%98%E7%9A%84%E5%88%86%E5%8C%BA%E3%80%81%E6%A0%BC%E5%BC%8F%E5%8C%96%E3%80%81%E6%A3%80%E9%AA%8C%E4%B8%8E%E6%8C%82%E8%BD%BD"><span class="nav-number">2.3.3.</span> <span class="nav-text">8.3 磁盘的分区、格式化、检验与挂载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-1-%E8%A7%82%E5%AF%9F%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E7%8A%B6%E6%80%81"><span class="nav-number">2.3.3.1.</span> <span class="nav-text">8.3.1 观察磁盘分区状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-2-%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%EF%BC%9Agdisk-fdisk"><span class="nav-number">2.3.3.2.</span> <span class="nav-text">8.3.2 磁盘分区：gdisk&#x2F;fdisk</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-3-%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F%E5%8C%96%EF%BC%88%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%EF%BC%89"><span class="nav-number">2.3.3.3.</span> <span class="nav-text">8.3.3 磁盘格式化（创建文件系统）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-4-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%A3%80%E9%AA%8C"><span class="nav-number">2.3.3.4.</span> <span class="nav-text">8.3.4 文件系统检验</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-5-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%8C%82%E8%BD%BD%E4%B8%8E%E5%8D%B8%E8%BD%BD"><span class="nav-number">2.3.3.5.</span> <span class="nav-text">8.3.5 文件系统挂载与卸载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-6-%E7%A3%81%E7%9B%98-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%E4%BF%AE%E8%AE%A2"><span class="nav-number">2.3.3.6.</span> <span class="nav-text">8.3.6 磁盘&#x2F;文件系统参数修订</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-4-%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E6%8C%82%E8%BD%BD"><span class="nav-number">2.3.4.</span> <span class="nav-text">8.4 设置开机挂载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-1-%E5%BC%80%E6%9C%BA%E6%8C%82%E8%BD%BD-etc-fstab-%E5%8F%8A-etc-mtab"><span class="nav-number">2.3.4.1.</span> <span class="nav-text">8.4.1 开机挂载 &#x2F;etc&#x2F;fstab 及 &#x2F;etc&#x2F;mtab</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-2-%E7%89%B9%E6%AE%8A%E8%AE%BE%E5%A4%87-loop-%E6%8C%82%E8%BD%BD"><span class="nav-number">2.3.4.2.</span> <span class="nav-text">8.4.2 特殊设备 loop 挂载</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-5-%E5%86%85%E5%AD%98%E4%BA%A4%E6%8D%A2%E7%A9%BA%E9%97%B4-swap-%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">2.3.5.</span> <span class="nav-text">8.5 内存交换空间(swap)的创建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-1-%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BD%93%E5%88%86%E5%8C%BA%E5%88%9B%E5%BB%BA-swap"><span class="nav-number">2.3.5.1.</span> <span class="nav-text">8.5.1 使用实体分区创建 swap</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-2-%E4%BD%BF%E7%94%A8%E6%96%87%E4%BB%B6%E5%88%9B%E5%BB%BA-swap"><span class="nav-number">2.3.5.2.</span> <span class="nav-text">8.5.2 使用文件创建 swap</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-6-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%B9%E6%AE%8A%E8%A7%82%E5%AF%9F%E4%B8%8E%E6%93%8D%E4%BD%9C"><span class="nav-number">2.3.6.</span> <span class="nav-text">8.6 文件系统的特殊观察与操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-6-1-%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%B5%AA%E8%B4%B9%E9%97%AE%E9%A2%98"><span class="nav-number">2.3.6.1.</span> <span class="nav-text">8.6.1 磁盘空间浪费问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-6-2-%E5%88%A9%E7%94%A8-GNU-%E7%9A%84-parted-%E8%BF%9B%E8%A1%8C%E5%88%86%E5%8C%BA%E8%A1%8C%E4%B8%BA-optional"><span class="nav-number">2.3.6.2.</span> <span class="nav-text">8.6.2 利用 GNU 的 parted 进行分区行为(optional)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E6%96%87%E4%BB%B6%E4%B8%8E%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8E%8B%E7%BC%A9%E3%80%81%E6%89%93%E5%8C%85%E4%B8%8E%E5%A4%87%E4%BB%BD"><span class="nav-number">2.4.</span> <span class="nav-text">9. 文件与文件系统的压缩、打包与备份</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6%E6%8A%80%E6%9C%AF"><span class="nav-number">2.4.1.</span> <span class="nav-text">9.1 压缩文件技术</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-Linux-%E7%B3%BB%E7%BB%9F%E5%B8%B8%E8%A7%81%E5%8E%8B%E7%BC%A9%E6%8C%87%E4%BB%A4"><span class="nav-number">2.4.2.</span> <span class="nav-text">9.2 Linux 系统常见压缩指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-1-gzip-zcat-zmore-zless-zgrep"><span class="nav-number">2.4.2.1.</span> <span class="nav-text">9.2.1 gzip,zcat&#x2F;zmore&#x2F;zless&#x2F;zgrep</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-2-bzip2-bzcat-bzmore-bzless-bzgrep"><span class="nav-number">2.4.2.2.</span> <span class="nav-text">9.2.2 bzip2,bzcat&#x2F;bzmore&#x2F;bzless&#x2F;bzgrep</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-3-xz-xzcat-xzmore-xzless-xzgrep"><span class="nav-number">2.4.2.3.</span> <span class="nav-text">9.2.3 xz,xzcat&#x2F;xzmore&#x2F;xzless&#x2F;xzgrep</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-4-zip"><span class="nav-number">2.4.2.4.</span> <span class="nav-text">9.2.4 zip</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-3-%E6%89%93%E5%8C%85%EF%BC%9Atar"><span class="nav-number">2.4.3.</span> <span class="nav-text">9.3 打包：tar</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%99%84%E5%BD%95"><span class="nav-number">3.</span> <span class="nav-text">附录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">3.1.</span> <span class="nav-text">参考资料</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="水瓶之翼"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">水瓶之翼</p>
  <div class="site-description" itemprop="description">躺平了</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">水瓶之翼</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'Mdmc1I6TUmAZfI19jt0kRu8e-gzGzoHsz',
      appKey     : 'DJRCgUX7mIx8PPT0Cy3cvLFN',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-CN' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
